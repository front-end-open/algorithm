import{r as p,o as t,c as e,a as n,b as o,F as c,e as s,d as l}from"./app.3aa91c68.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";var r="/algorithm/assets/array.294f00e0.png",i="/algorithm/assets/uinit.9cfdf5e9.png",k="/algorithm/assets/unit8.80c39994.png",b="/algorithm/assets/typearray.9fe7c01b.png",m="/algorithm/assets/material.c0f363fe.png",d="/algorithm/assets/modalandmaterial.ee48657d.png",h="/algorithm/assets/3dModal.9ed2f17c.png",g="/algorithm/assets/modalchange.5d932fc4.png",y="/algorithm/assets/light.01ac6767.png",w="/algorithm/assets/textTure.7ad46332.png",v="/algorithm/assets/texture.2855ebe6.png",f="/algorithm/assets/uv-position.d7dc919f.png",E="/algorithm/assets/nvtopostion.e87f9e6b.png",x="/algorithm/assets/group.91bcced4.png",T="/algorithm/assets/uvp.e7ae5d28.jpg",q="/algorithm/assets/metarialIndex.cb993de6.png",R="/algorithm/assets/textureNormal.341acb78.png";const H={},M=s(`<h2 id="base" tabindex="-1"><a class="header-anchor" href="#base" aria-hidden="true">#</a> Base</h2><h3 id="\u9876\u70B9\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u9876\u70B9\u6982\u5FF5" aria-hidden="true">#</a> \u9876\u70B9\u6982\u5FF5</h3><h4 id="\u7C7B\u578B\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u6570\u7EC4" aria-hidden="true">#</a> \u7C7B\u578B\u6570\u7EC4</h4><blockquote><p>\u7C7B\u578B\u6570\u7EC4\u4F7F\u7528 int, unit[Bit]\u6765\u8868\u793A\uFF0C\u533A\u522B\u4E8E\u666E\u901A\u6570\u7EC4\u3002\u666E\u901A\u6570\u7EC4\u4F7F\u7528[]\u6216 Array \u6784\u9020\u521B\u5EFA.</p><blockquote><p>\u666E\u901A\u6570\u7EC4\u5BF9\u5F85\u6570\u5B57\u5904\u7406\u4E00\u822C\u5206\u4E3A\u6709\u7B26\u53F7 32 \u4F4D\u6574\u5F62\u6570\u636E\u548C 64 \u4F4D\u6D6E\u70B9\u6570\u3002\u7C7B\u578B\u6570\u7EC4\u4E4B\u6240\u4EE5\u6709\u7C7B\u578B\u8FD9\u4E2A\u5B9A\u8BED\uFF0C\u5C31\u662F\u56E0\u4E3A\u6BCF\u4E00\u4E2A\u6784\u9020\u51FD\u6570\u5BF9\u5E94\u4E00\u79CD number \u7C7B\u578B\u91CC\u9762\u7EC6\u5206\u7684\u6570\u636E\u7C7B\u578B\u3002</p></blockquote><blockquote><p>Javascript \u4E00\u822C\u60C5\u51B5\u5904\u7406\u6574\u6570\u53EA\u6709\u4E00\u79CD\u6574\u578B\u6A21\u5F0F\uFF0C\u4E00\u4E2A\u6574\u578B\u6570\u636E\u5206\u914D 32 \u4F4D\u5185\u5B58\u7A7A\u95F4\uFF0C \u7C7B\u578B\u6570\u7EC4\u4E2D\uFF0C\u6784\u9020\u51FD\u6570 Int8Array()\u521B\u5EFA\u7684\u6570\u7EC4\u6BCF\u4E2A\u5143\u7D20\u5360\u636E\u7684\u5185\u5B58\u662F 8 \u4F4D\uFF0C\u6B63\u5982\u5176\u540D\u524D\u534A\u90E8\u5206 Int8\uFF1B Int16Array()\u521B\u5EFA\u6570\u7EC4\u7684\u6570\u5B57\u5143\u7D20\u5206\u914D\u5185\u5B58\u5206\u914D 16 \u4F4D\uFF0C\u8BF8\u5982\u5176\u4ED6\u7684\u6784\u9020\u51FD\u6570 Float32Array \u3001 Float64Array\u3001Int32Array \u6839\u636E\u540D\u5B57\u90FD\u77E5\u9053\u5B83\u7684\u5143\u7D20\u7C7B\u578B\u548C\u5143\u7D20\u5206\u914D\u7684\u5185\u5B58\u7A7A\u95F4\u3002</p></blockquote></blockquote><h4 id="\u51E0\u79CD\u4E0D\u540C\u6570\u7EC4\u521B\u5EFA\u65B9\u5F0F\u5BF9\u5E94\u7684\u5185\u5B58\u5206\u914D\u56FE" tabindex="-1"><a class="header-anchor" href="#\u51E0\u79CD\u4E0D\u540C\u6570\u7EC4\u521B\u5EFA\u65B9\u5F0F\u5BF9\u5E94\u7684\u5185\u5B58\u5206\u914D\u56FE" aria-hidden="true">#</a> \u51E0\u79CD\u4E0D\u540C\u6570\u7EC4\u521B\u5EFA\u65B9\u5F0F\u5BF9\u5E94\u7684\u5185\u5B58\u5206\u914D\u56FE</h4><ol><li>[] \u6216 Array, \u666E\u901A\u6570\u7EC4\u521B\u5EFA</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u6570\u7EC4\u5143\u7D20\u5185\u5B58\u5206\u914D\uFF0C\u6BCF\u4E00\u4E2A\u5143\u7D20\u5360\u7528 32 \u4E3A\u5185\u5B58\u7A7A\u95F4. \u5982\u4E0B\uFF0C\u662F\u6570\u7EC4 arr[0] = 10</p><img src="`+r+'"><ol start="2"><li>arr2 = new Uint16Array([10,12,13]);</li></ol><p>\u4F7F\u7528\u65E0\u7B26\u53F7 16 \u4F4D\u7C7B\u578B\u6570\u7EC4\u521B\u5EFA\u6570\u7EC4\uFF0C\u5982\u4E0B\u662F arr2[0] = 10 \u5185\u5B58\u5206\u914D\u3002 <img src="'+i+'"></p><ol start="3"><li>arr3 = new Uint8Array([10,12,13]);</li></ol><p>\u4F7F\u7528\u65E0\u7B26\u53F7 8 \u4F4D\u7C7B\u578B\u6570\u7EC4\uFF0C \u6BCF\u4E00\u4E2A\u6570\u7EC4\u5143\u7D20\u5206\u914D 8 s \u4F4D\u5185\u5B58\u7A7A\u95F4 <img src="'+k+'"></p><h3 id="\u7C7B\u578B\u6570\u7EC4\u6784\u9020\u51FD\u6570\u8868" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u6570\u7EC4\u6784\u9020\u51FD\u6570\u8868" aria-hidden="true">#</a> \u7C7B\u578B\u6570\u7EC4\u6784\u9020\u51FD\u6570\u8868</h3><img src="'+b+`"><blockquote><p>Int \u6765\u81EA\u5355\u8BCD integer \u6574\u6570\uFF0C\u65E0\u7B26\u53F7\u7684 U \u6765\u81EA\u5355\u8BCD Unsigned \u65E0\u7B26\u53F7\uFF0C\u6574\u578B\u5BF9\u5E94\u7684\u5C31\u662F\u6574\u6570\uFF0C\u6D6E\u70B9\u6570\u4F60\u53EF\u4EE5\u7B80\u5355\u7684\u7406\u89E3\u4F4D\u5C0F\u6570\uFF0C\u6574\u6570\u5206\u4E3A\u6574\u6570\u6709\u6B63\u6570\u548C\u8D1F\u6570\u4E4B\u5206\u3002 \u65E0\u7B26\u53F7\u6574\u6570\u4E0D\u80FD\u7528\u6765\u8868\u793A\u8D1F\u6570\uFF0C\u5185\u5B58\u7684\u5B58\u50A8\u4E0D\u8981\u8981\u7B26\u53F7\u4F4D\uFF0C\u6709\u7B26\u53F7\u81EA\u7136\u5305\u62EC\u8D1F\u6570\uFF0C<strong>\u6B63\u6570\u5206\u914D\u7684\u6700\u5C0F\u5B58\u50A8\u5355\u5143\u7B2C\u4E00\u4F4D\u4F1A\u7528\u6765\u4F5C\u4E3A\u7B26\u53F7\u4F4D\uFF0C0 \u8868\u793A\u6B63\u6570\uFF0C1 \u8868\u793A\u590D\u6570\u3002</strong></p></blockquote><h3 id="\u7C7B\u578B\u6570\u7EC4\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u6570\u7EC4\u5C5E\u6027" aria-hidden="true">#</a> \u7C7B\u578B\u6570\u7EC4\u5C5E\u6027</h3><blockquote><p>\u7C7B\u578B\u6570\u7EC4\u548C\u666E\u901A\u6570\u7EC4\u4E00\u6837\u90FD\u662F\u5BF9\u8C61\uFF0C\u4E5F\u4E00\u6837\u5177\u6709\u5C5E\u6027\uFF0C\u7C7B\u578B\u6570\u7EC4\u6709\u4E9B\u5C5E\u6027\u662F\u72EC\u6709\u5C5E\u6027\uFF0C\u6709\u4E9B\u5C5E\u6027\u548C\u666E\u901A\u6570\u7EC4\u4E00\u6837</p></blockquote><ul><li>BYTES_PER_ELEMENT, \u83B7\u53D6\u7C7B\u578B\u6570\u7EC4\u5143\u7D20\u5360\u7528\u5185\u5B58\u7A7A\u95F4</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> data2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> size1 <span class="token operator">=</span> data1<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">;</span> <span class="token comment">//\u8FD4\u56DE\u7ED3\u679Csize1\u4E3A4</span>
<span class="token keyword">let</span> size2 <span class="token operator">=</span> data2<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">;</span> <span class="token comment">//\u8FD4\u56DE\u7ED3\u679Csize2\u4E3A2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>byteLength, \u83B7\u53D6\u7C7B\u578B\u6570\u7EC4\u6682\u5360\u7528\u5185\u5B58\u603B\u6570(Byte)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> data2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bL1 <span class="token operator">=</span> data1<span class="token punctuation">.</span>byteLength<span class="token punctuation">;</span> <span class="token comment">//\u8FD4\u56DE\u7ED3\u679C20</span>
<span class="token keyword">let</span> bL2 <span class="token operator">=</span> data2<span class="token punctuation">.</span>byteLength<span class="token punctuation">;</span> <span class="token comment">//\u8FD4\u56DE\u7ED3\u679C10</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>length, \u83B7\u53D6\u7C7B\u578B\u6570\u7EC4\u5BF9\u8C61\u5185\u6DB5\u5143\u7D20\u4E2A\u6570</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> data2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token constant">L1</span> <span class="token operator">=</span> data1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">//\u8FD4\u56DE\u7ED3\u679C5</span>
<span class="token keyword">let</span> <span class="token constant">L2</span> <span class="token operator">=</span> data2<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">//\u8FD4\u56DE\u7ED3\u679C5</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="\u7C7B\u578B\u6570\u7EC4\u5C5E\u6027\u5BF9\u7167\u8868" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u6570\u7EC4\u5C5E\u6027\u5BF9\u7167\u8868" aria-hidden="true">#</a> \u7C7B\u578B\u6570\u7EC4\u5C5E\u6027\u5BF9\u7167\u8868</h3><table><thead><tr><th>\u5C5E\u6027</th><th>\u542B\u4E49</th></tr></thead><tbody><tr><td>BYTES-PER-ELEMENT</td><td>\u6784\u9020\u51FD\u6570\u521B\u5EFA\u7684\u6570\u7EC4\u91CC\u9762\u5143\u7D20\u5206\u914D\u7684\u5B57\u5185\u5B58\u5B57\u8282\u6570</td></tr><tr><td>bytelength</td><td>\u6570\u7EC4\u6240\u6709\u5143\u7D20\u5360\u7528\u7684\u5185\u5B58\u7A7A\u95F4\uFF0C\u5355\u4F4D\uFF1A\u5B57\u8282 B</td></tr><tr><td>length</td><td>\u6570\u7EC4\u5185\u542B\u5143\u7D20\u4E2A\u6570</td></tr></tbody></table><h3 id="\u7C7B\u578B\u6570\u7EC4\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u6570\u7EC4\u65B9\u6CD5" aria-hidden="true">#</a> \u7C7B\u578B\u6570\u7EC4\u65B9\u6CD5</h3><table><thead><tr><th>\u65B9\u6CD5</th><th>\u542B\u4E49</th></tr></thead><tbody><tr><td>get(index)</td><td>index \u662F\u6574\u6570\u503C 0\u30011\u30012\uFF0C\u8868\u793A\u7C7B\u578B\u6570\u7EC4\u5143\u7D20\u7684\u7D22\u5F15\uFF0C\u6267\u884C\u65B9\u6CD5\u8FD4\u56DE\u7D22\u5F15 index \u5BF9\u5E94\u7684\u5143\u7D20\u503C</td></tr><tr><td>set(index, value)</td><td>\u66F4\u6539\u7C7B\u578B\u6570\u7EC4\u7D22\u5F15 index \u5BF9\u5E94\u7684\u5143\u7D20\u503C\u4E3A value</td></tr><tr><td>set(array,offset)</td><td>\u7ED9\u7C7B\u578B\u6570\u7EC4 array \u63D2\u5165\u5143\u7D20\uFF0C\u63D2\u5165\u4F4D\u7F6E\u662F\u504F\u79FB offset \u4E2A\u5143\u7D20</td></tr></tbody></table><h3 id="\u7C7B\u578B\u6570\u7EC4\u89C6\u56FE\u5185\u5B58\u5206\u914D\u5BF9\u6BD4" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u6570\u7EC4\u89C6\u56FE\u5185\u5B58\u5206\u914D\u5BF9\u6BD4" aria-hidden="true">#</a> \u7C7B\u578B\u6570\u7EC4\u89C6\u56FE\u5185\u5B58\u5206\u914D\u5BF9\u6BD4</h3><img src="https://mdn.mozillademos.org/files/8629/typed_arrays.png"><h2 id="\u9876\u70B9" tabindex="-1"><a class="header-anchor" href="#\u9876\u70B9" aria-hidden="true">#</a> \u9876\u70B9</h2><h3 id="\u9876\u70B9\u6CD5\u5411\u91CF" tabindex="-1"><a class="header-anchor" href="#\u9876\u70B9\u6CD5\u5411\u91CF" aria-hidden="true">#</a> \u9876\u70B9\u6CD5\u5411\u91CF</h3><h3 id="\u6F2B\u53CD\u5C04-\u955C\u9762\u53CD\u5C04" tabindex="-1"><a class="header-anchor" href="#\u6F2B\u53CD\u5C04-\u955C\u9762\u53CD\u5C04" aria-hidden="true">#</a> \u6F2B\u53CD\u5C04\uFF0C\u955C\u9762\u53CD\u5C04.</h3><blockquote><p>\u6F2B\u53CD\u5C04\uFF0C\u662F\u6295\u5C04\u5728\u7C97\u7CD9\u8868\u9762\u4E0A\u7684\u5149\u5411\u5404\u4E2A\u65B9\u5411\u53CD\u5C04\u7684\u73B0\u8C61\u3002\u5F53\u4E00\u675F\u5E73\u884C\u7684\u5165\u5C04\u5149\u7EBF\u5C04\u5230\u7C97\u7CD9\u7684\u8868\u9762\u65F6\uFF0C\u8868\u9762\u4F1A\u628A\u5149\u7EBF\u5411\u7740\u56DB\u9762\u516B\u65B9\u53CD\u5C04\uFF0C\u6240\u4EE5\u5165\u5C04\u7EBF\u867D\u7136\u4E92\u76F8\u5E73\u884C\uFF0C\u7531\u4E8E\u5404\u70B9\u7684\u6CD5\u7EBF\u65B9\u5411\u4E0D\u4E00\u81F4\uFF0C\u9020\u6210\u53CD\u5C04\u5149\u7EBF\u5411\u4E0D\u540C\u7684\u65B9\u5411\u65E0\u89C4\u5219\u5730\u53CD\u5C04\uFF0C\u8FD9\u79CD\u53CD\u5C04\u79F0\u4E4B\u4E3A\u201C\u6F2B\u53CD\u5C04\u201D\u6216\u201C\u6F2B\u5C04\u201D\u3002\u8FD9\u79CD\u53CD\u5C04\u7684\u5149\u79F0\u4E3A\u6F2B\u5C04\u5149\u3002\u5F88\u591A\u7269\u4F53\uFF0C\u5982\u690D\u7269\u3001\u5899\u58C1\u3001\u8863\u670D\u7B49\uFF0C\u5176\u8868\u9762\u7C97\u770B\u8D77\u6765\u4F3C\u4E4E\u662F\u5E73\u6ED1\uFF0C\u4F46\u7528\u653E\u5927\u955C\u4ED4\u7EC6\u89C2\u5BDF\uFF0C\u5C31\u4F1A\u770B\u5230\u5176\u8868\u9762\u662F\u51F9\u51F8\u4E0D\u5E73\u7684\uFF0C\u6240\u4EE5\u672C\u6765\u662F\u5E73\u884C\u7684\u592A\u9633\u5149\u88AB\u8FD9\u4E9B\u8868\u9762\u53CD\u5C04\u540E\uFF0C\u5F25\u6F2B\u5730\u5C04\u5411\u4E0D\u540C\u65B9\u5411</p></blockquote><blockquote><p>\u955C\u9762\u53CD\u5C04\u662F\u6307\u82E5\u53CD\u5C04\u9762\u6BD4\u8F83\u5149\u6ED1\uFF0C\u5F53\u5E73\u884C\u5165\u5C04\u7684\u5149\u7EBF\u5C04\u5230\u8FD9\u4E2A\u53CD\u5C04\u9762\u65F6\uFF0C\u4ECD\u4F1A\u5E73\u884C\u5730\u5411\u4E00\u4E2A\u65B9\u5411\u53CD\u5C04\u51FA\u6765\uFF0C\u8FD9\u79CD\u53CD\u5C04\u5C31\u5C5E\u4E8E\u955C\u9762\u53CD\u5C04 [</p></blockquote><blockquote><p>\u6CD5\u7EBF\uFF08normal line\uFF09\uFF0C\u662F\u6307\u59CB\u7EC8\u5782\u76F4\u4E8E\u67D0\u5E73\u9762\u7684\u76F4\u7EBF\u3002\u5728\u51E0\u4F55\u5B66\u4E2D\uFF0C\u6CD5\u7EBF\u6307\u5E73\u9762\u4E0A\u5782\u76F4\u4E8E\u66F2\u7EBF\u5728\u67D0\u70B9\u7684\u5207\u7EBF\u7684\u4E00\u6761\u7EBF\u3002\u6CD5\u7EBF\u4E5F\u5E94\u7528\u4E8E\u5149\u5B66\u7684\u5E73\u9762\u955C\u53CD\u5C04\u4E0A\u3002</p></blockquote><blockquote><p>WebGl \u4E2D\uFF0C\u4E3A\u4E86\u8BA1\u7B97\u5149\u7EBF\u4E0E\u7269\u4F53\u8868\u9762\u7684\u5165\u5C04\u89D2\uFF0C\u9700\u8981\u5148\u8BA1\u7B97\u7269\u4F53\u8868\u9762\u6CD5\u5411\u91CF\u3002\u5728 Threejs \u4E2D\u8868\u793A\u7269\u4F53\u7684\u7F51\u683C\u6A21\u578B Mesh \u7684\u66F2\u9762\u662F\u7531\u4E00\u4E2A\u4E00\u4E2A\u4E09\u89D2\u5F62\u6784\u6210\uFF0C\u6240\u4EE5\u4E3A\u4E86\u8868\u793A\u7269\u4F53\u8868\u9762\u5404\u4E2A\u4F4D\u7F6E\u7684\u6CD5\u7EBF\u65B9\u5411\uFF0C\u53EF\u4EE5\u7ED9\u51E0\u4F55\u4F53\u7684\u6BCF\u4E2A\u9876\u70B9\u5B9A\u4E49\u4E00\u4E2A\u65B9\u5411\u5411\u91CF\u3002 threejs \u4E09\u7EF4\u7A7A\u95F4\uFF0C\u7269\u4F53\u5750\u6807\u8868\u793A(y, z, x)</p></blockquote><p>\u786E\u8BA4\u6CD5\u5411\u91CF\u8FC7\u540E\uFF0C\u5F00\u59CB\u4E3A\u573A\u666F\u52A0\u5165\u5149\u6E90\u3002\u6B64\u65F6\u73AF\u5883\u5149\u548C\u70B9\u5149\u6E90\u90FD\u4F1A\u53C2\u4E0E\u5149\u7167\u8BA1\u7B97\u3002\u6784\u5EFA\u51E0\u4F55\u4F53\u8868\u9762\u7684\u4E09\u89D2\u5F62\u6574\u4E2A\u8868\u9762\u6BD4\u8F83\u660E\u4EAE\uFF0C\u540C\u65F6\u4E24\u4E2A\u4E09\u89D2\u5F62\u8868\u9762\u6CD5\u7EBF\u4E0D\u540C\uFF0C\u5373\u4F7F\u5149\u7EBF\u65B9\u5411\u76F8\u540C\uFF0C\u660E\u6697\u81EA\u7136\u4E0D\u540C\uFF0C\u5728\u5206\u754C\u4F4D\u7F6E\u6709\u68F1\u89D2\u611F\u3002</p><blockquote><p>\u9AD8\u5149\u6548\u679C\u662F\u955C\u9762\u53CD\u5C04\u7684\u5F62\u6210\u3002\u5E73\u884C\u5149\u7EBF\u4ECE\u5165\u5C04\u5230\u9AD8\u5149\u6750\u8D28\u8868\u9762\u5B8C\u5168\u53CD\u5C04\u51FA\u53BB\uFF0C\u6750\u8D28\u8868\u9762\u8868\u73B0\u9AD8\u5149\u6548\u679C\u3002</p></blockquote><h3 id="\u9876\u70B9\u7D22\u5F15\u81EA\u5B9A\u4E49\u5B9E\u73B0\u7ACB\u65B9\u4F53" tabindex="-1"><a class="header-anchor" href="#\u9876\u70B9\u7D22\u5F15\u81EA\u5B9A\u4E49\u5B9E\u73B0\u7ACB\u65B9\u4F53" aria-hidden="true">#</a> \u9876\u70B9\u7D22\u5F15\u81EA\u5B9A\u4E49\u5B9E\u73B0\u7ACB\u65B9\u4F53</h3><blockquote><p>\u901A\u8FC7\u7F13\u51B2\u51E0\u4F55\u4F53\uFF0C\u81EA\u5B9A\u4E49\u8BBE\u7F6E\u9876\u70B9\u6570\u636E\uFF0C\u6765\u5B9E\u73B0\u51E0\u4F55\u4F53.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span>
  <span class="token number">50</span><span class="token punctuation">,</span>
  window<span class="token punctuation">.</span>innerWidth <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>
  <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token number">1000</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

<span class="token comment">// \u52A0\u5165\u5149\u6E90</span>
<span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PointLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
point<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> ambient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span><span class="token number">0xbb7777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ambient<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BufferGeometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u7A7Abuffer\u51E0\u4F55\u4F53</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5B9A\u4E49\u9876\u70B9\u6570\u636E</span>

<span class="token keyword">let</span> vertices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// y -&gt; \u8F74\u9762</span>

  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span> <span class="token comment">// x-&gt; \u8F74\u9762</span>

  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span> <span class="token comment">// x-y -&gt; \u8F74</span>

  <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token punctuation">,</span> <span class="token comment">// y-&gt;y \u8F74</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u9876\u70B9\u6CD5\u5411\u91CF\u5B9A\u4E49</span>
<span class="token comment">// \u6CD5\u5411\u91CF\u7684\u70B9\uFF0C\u662F\u901A\u8FC7\u9876\u70B9\u505A\u5782\u76F4\u4E8E\u7F51\u683C\u6A21\u578B\u5E73\u9762\u7684\u5782\u76F4\u7EBF.</span>
<span class="token keyword">let</span> normals <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>

  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>

  <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>

  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>

  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>

  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B91\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B92\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B93\u989C\u8272</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B94\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B95\u989C\u8272</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876 6</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B91\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B92\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B93\u989C\u8272</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B94\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B95\u989C\u8272</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876 6</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B91\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B92\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B93\u989C\u8272</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B94\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B95\u989C\u8272</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876 6</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B91\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B92\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B93\u989C\u8272</span>

  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B94\u989C\u8272</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876\u70B95\u989C\u8272</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u9876 6s</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5B9A\u4E49\u9876\u70B9\u7D22\u5F15</span>
<span class="token keyword">let</span> indexs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint16Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

geometry<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BufferAttribute</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
geometry<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BufferAttribute</span><span class="token punctuation">(</span>normals<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//   geometry.setAttribute(&quot;color&quot;, new THREE.BufferAttribute(colors, 3));</span>
geometry<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BufferAttribute</span><span class="token punctuation">(</span>indexs<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u9762\u6E32\u67D3\u6A21\u578B</span>
<span class="token comment">// \u5B9A\u4E49\u6750\u8D28</span>
<span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// vertexColors: THREE.VertexColors,</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x777777</span><span class="token punctuation">,</span>
  <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u7A7A\u95F4\u5750\u6807\u8F85\u52A9\u5BF9\u8C61</span>
<span class="token keyword">let</span> axesHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AxesHelper</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>axesHelper<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> controls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>OrbitControls</span><span class="token punctuation">(</span>camera<span class="token punctuation">,</span> renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
controls<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> render<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u901A\u8FC7 API<code> Gemotry</code>\u540C\u6837\uFF0C\u4E5F\u53EF\u4EE5\u5B9E\u73B0\u7F13\u51B2\u51E0\u4F55\u4F53.\u4E0D\u8FC7\u5728 threejsr125 \u7248\u672C\u8FC7\u540E\uFF0C\u5DF2\u7ECF\u79FB\u9664\u5BF9\u6B64 api \u652F\u6301\u3002</p></div><h3 id="buffergemotry-\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#buffergemotry-\u603B\u7ED3" aria-hidden="true">#</a> BufferGemotry \u603B\u7ED3</h3><img src="http://assets.processon.com/chart_image/61b8c6497d9c0868e020ead4.png"><h3 id="\u51E0\u4F55\u4F53\u5BF9\u8C61\u6570\u636E\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#\u51E0\u4F55\u4F53\u5BF9\u8C61\u6570\u636E\u8BBF\u95EE" aria-hidden="true">#</a> \u51E0\u4F55\u4F53\u5BF9\u8C61\u6570\u636E\u8BBF\u95EE</h3><blockquote><p>\u5305\u62EC\uFF0C\u9876\u70B9\uFF0C\u989C\u8272\uFF0C\u9876\u70B9\u6CD5\u5411\u91CF\u6570\u636E\u3002threejs \u5185\u7F6E\u7684\u51E0\u4F55\u4F53\u6A21\u578B\uFF0C\u5DF2\u7ECF\u5C01\u88C5\u597D\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BBF\u95EE\u5BF9\u8C61\u5C5E\u6027\uFF0C\u67E5\u770B\u5C5E\u6027\u3002</p></blockquote><h4 id="\u8BBF\u95EE\u5916\u90E8\u6A21\u578B\u51E0\u4F55\u4F53\u9876\u70B9\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u8BBF\u95EE\u5916\u90E8\u6A21\u578B\u51E0\u4F55\u4F53\u9876\u70B9\u6570\u636E" aria-hidden="true">#</a> \u8BBF\u95EE\u5916\u90E8\u6A21\u578B\u51E0\u4F55\u4F53\u9876\u70B9\u6570\u636E</h4><blockquote><p>\u5B9E\u9645\u5F00\u53D1\u9879\u76EE\u7684\u65F6\u5019\uFF0C\u53EF\u80FD\u4F1A\u52A0\u8F7D\u5916\u90E8\u6A21\u578B\uFF0C\u6709\u4E9B\u65F6\u5019\u9700\u8981\u83B7\u53D6\u6A21\u578B\u51E0\u4F55\u4F53\u7684\u9876\u70B9\u6570\u636E Threejs \u52A0\u8F7D\u5916\u90E8\u6A21\u578B\u7684\u65F6\u5019\uFF0C\u4F1A\u628A\u51E0\u4F55\u4F53\u89E3\u6790\u4E3A\u7F13\u51B2\u7C7B\u578B\u51E0\u4F55\u4F53 BufferGeometry\uFF0C\u6240\u4EE5\u8BBF\u95EE\u5916\u90E8\u6A21\u578B\u51E0\u4F55\u4F53\u9876\u70B9\u6570\u636E</p></blockquote><h2 id="\u6750\u8D28\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u6750\u8D28\u5BF9\u8C61" aria-hidden="true">#</a> \u6750\u8D28\u5BF9\u8C61</h2><blockquote><p>\u6750\u8D28\u5BF9\u8C61\u662F\u5305\u542B\u5149\u7167\u7B97\u6CD5\u7684 \u7740\u8272\u5668 GLSL,ES \u4EE3\u7801\u3002\u76EE\u7684\u5728\u4E8E\u8D4B\u4E88\u6A21\u578B\u5916\u89C2\u4E0A\u7684\u6539\u53D8\u3002\u6BD4\u5982\u6A21\u578B\u7684\u91D1\u5C5E\uFF0C\u900F\u660E\u5EA6\u7B49\u6A21\u578B\u5916\u89C2\u3002\u90FD\u662F\u7740\u8272\u5668\u7684\u8FD0\u7528\u3002\u4E3A\u4E86\u65B9\u4FBF\u5F00\u53D1 Threejs \u63D0\u4F9B\u4E86\u4E00\u7CFB\u5217\u7684\u6750\u8D28\uFF0C\u6240\u6709\u6750\u8D28\u5C31\u662F\u5BF9 WebGL \u7740\u8272\u5668\u4EE3\u7801\u7684\u5C01\u88C5</p></blockquote><p><strong>\u6750\u8D28\u76F8\u5173 API \u603B\u7ED3</strong></p><img src="`+m+'"><h3 id="\u6750\u8D28\u5BF9\u8C61\u548C\u6A21\u578B\u5BF9\u8C61\u5BF9\u5E94\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u6750\u8D28\u5BF9\u8C61\u548C\u6A21\u578B\u5BF9\u8C61\u5BF9\u5E94\u5173\u7CFB" aria-hidden="true">#</a> \u6750\u8D28\u5BF9\u8C61\u548C\u6A21\u578B\u5BF9\u8C61\u5BF9\u5E94\u5173\u7CFB</h3><img src="'+d+'"><h2 id="\u6A21\u578B\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u6A21\u578B\u5BF9\u8C61" aria-hidden="true">#</a> \u6A21\u578B\u5BF9\u8C61</h2><blockquote><p>\u6A21\u578B\u5BF9\u8C61\u5728 threejs \u89D2\u5EA6\u6765\u8BF4\uFF0C\u5C31\u662F\u6709\u51E0\u4F55\u4F53\u4E0E\u6750\u8D28\u5BF9\u8C61\u7ED3\u5408\u5F62\u6210\u7684\u4E09\u7EF4\u5BF9\u8C61\u3002\u5176\u4E2D\uFF0C\u6750\u8D28\u8BBE\u7F6E\u4E09\u7EF4\u6A21\u578B\u5916\u89C2\u5F62\u72B6\uFF0C\u51E0\u4F55\u4F53\u5219\u901A\u8FC7\u9876\u70B9\u5750\u6807\u6570\u636E\u6765\u8868\u8FBE\u4E09\u7EF4\u6A21\u578B\u5916\u89C2\u5F62\u72B6\u3002</p></blockquote><p><strong>\u5E38\u7528\u6A21\u578B\u5BF9\u8C61</strong></p><ul><li>Mesh,\u7F51\u683C\u6A21\u578B\u3002</li><li>Point,\u70B9\u6A21\u578B</li><li>Line, \u7EBF\u6A21\u578B\u3002</li></ul><img src="'+h+'"><p><em>Line,Mesh, Point \u4EE5\u53CA\u5BF9\u5E94\u7684\u6750\u8D28\u90FD\u662F\u7531\u57FA\u7C7B BufferGeometry, Material \u6784\u6210</em></p><h3 id="\u70B9\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u70B9\u6A21\u578B" aria-hidden="true">#</a> \u70B9\u6A21\u578B</h3><blockquote><p>\u70B9\u6A21\u578B\u5C31\u662F\u51E0\u4F55\u4F53\u9876\u70B9\u6570\u636E\u6240\u6E32\u67D3\u7684\u4E00\u4E2A\u50CF\u7D20\u533A\u57DF</p></blockquote><h3 id="\u7EBF\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u7EBF\u6A21\u578B" aria-hidden="true">#</a> \u7EBF\u6A21\u578B</h3><blockquote><p>\u901A\u8FC7\u9876\u70B9\u6570\u636E\u7ED8\u5236\u7EBF\u6761</p></blockquote><ul><li>Line, \u7EBF</li><li>LineLoop, \u9996\u4F4D\u76F8\u8FDE\u7EBF</li></ul><h3 id="\u7F51\u683C\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u7F51\u683C\u6A21\u578B" aria-hidden="true">#</a> \u7F51\u683C\u6A21\u578B</h3><blockquote><p>\u7ED3\u5408\u9876\u70B9\u6570\u636E\uFF0C\u4EE5\u4E09\u89D2\u5F62\u4E3A\u57FA\u672C\u5E73\u9762\u7ED8\u5236\u51E0\u4F55\u4F53</p></blockquote><h3 id="\u6A21\u578B\u5BF9\u8C61\u53D8\u6362" tabindex="-1"><a class="header-anchor" href="#\u6A21\u578B\u5BF9\u8C61\u53D8\u6362" aria-hidden="true">#</a> \u6A21\u578B\u5BF9\u8C61\u53D8\u6362</h3><blockquote><p>\u70B9\u6A21\u578B Points\u3001\u7EBF\u6A21\u578B Line\u3001\u7F51\u683C\u7F51\u683C\u6A21\u578B Mesh \u7B49\u6A21\u578B\u5BF9\u8C61\u7684\u57FA\u7C7B\u90FD\u662F Object3D. \u82E5\u60F3\u5BF9\u6A21\u578B\u5BF9\u8C61\u5E73\u79FB\u53D8\u6362,\u901A\u8FC7\u4F7F\u7528\u57FA\u7C7B\u7684\u96C6\u6210\u5C5E\u6027\u6216\u8005\u65B9\u6CD5\u64CD\u4F5C.</p></blockquote><img src="'+g+`"><h4 id="\u7F29\u653E\u53D8\u6362-scale" tabindex="-1"><a class="header-anchor" href="#\u7F29\u653E\u53D8\u6362-scale" aria-hidden="true">#</a> \u7F29\u653E\u53D8\u6362- scale</h4><blockquote><p>\u6A21\u578B\u5BF9\u8C61\u7684\u7F29\u653E\u5C5E\u6027<code>scale</code>,\u63A7\u5236\u6A21\u578B\u7684\u7F29\u653E\u6BD4\u5217. \u6B64\u5C5E\u6027\u7684\u503C\u662F\u4E00\u4E2A\u4E09\u7EF4\u77E2\u91CF\u6570\u636E\u3002\u4F7F\u7528\u4E09\u7EF4\u77E2\u91CF\u6784\u9020 THREE.Vector3 \u6765\u8BBE\u7F6E\u3002\u4E09\u7EF4\u77E2\u91CF\u6784\u9020\u65B9\u6CD5<code>set</code>\u7528\u4E8E\u66F4\u65B0\u4E09\u7EF4\u77E2\u91CF\u3002</p></blockquote><p><strong>scale</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token constant">THREE</span><span class="token punctuation">.</span>Vector3<span class="token punctuation">;</span>
<span class="token comment">// \u4E09\u4E2A\u53C2\u6570\u662F\u5411\u91CF\u4E09\u7EF4\u7A7A\u95F4\u5750\u6807\u8868\u793A</span>
<span class="token function">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u4F7F\u7528</span>
mesh<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * x\u8F74\u7F29\u653E 0.5,
 * y\u8F74\u7F29\u653E 1.5
 * z\u8F74\u7F29\u653E 2
 *
 *
 */</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>position</strong></p><blockquote><p>\u6A21\u578B\u4F4D\u7F6E.position \u5C5E\u6027\u548C.scale \u5C5E\u6027\u7684\u5C5E\u6027\u503C\u4E00\u6837\u4E5F\u662F\u4E09\u7EF4\u5411\u91CF\u5BF9\u8C61 Vector3\uFF0C\u901A\u8FC7\u6A21\u578B\u4F4D\u7F6E\u5C5E\u6027.position \u53EF\u4EE5\u8BBE\u7F6E\u6A21\u578B\u5728\u573A\u666F Scene \u4E2D\u7684\u4F4D\u7F6E\u3002\u6A21\u578B\u4F4D\u7F6E.position \u7684\u9ED8\u8BA4\u503C\u662F THREE.Vector3(0.0,0.0,0.0)\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6B64\u4F4D\u7F6E\u8BBE\u7F6E\u6A21\u578B\u5728\u573A\u666F\u4E2D\u7684\u4F4D\u7F6E</span>
<span class="token comment">// \u8BBE\u7F6E\u6A21\u578Bxyz\u5750\u6807;</span>
mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x-80, y-2, z- 10</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>tranlate-X/Y/Z</strong></p><blockquote><p>\u7F51\u683C\u6A21\u578B\u6CBF\u7740 x \u8F74\u6B63\u65B9\u5411\u5E73\u79FB 100\uFF0C\u53EF\u4EE5\u591A\u6B21\u6267\u884C\u8BE5\u8BED\u53E5\uFF0C\u6BCF\u6B21\u6267\u884C\u90FD\u662F\u76F8\u5BF9\u4E0A\u4E00\u6B21\u7684\u4F4D\u7F6E\u8FDB\u884C\u5E73\u79FB\u53D8\u6362\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7B49\u4EF7\u4E8E mesh.position = mesh.position + 100;</span>
mesh<span class="token punctuation">.</span><span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//\u6CBF\u7740 x \u8F74\u6B63\u65B9\u5411\u5E73\u79FB\u8DDD\u79BB 100</span>
\u6CBF\u7740 <span class="token constant">Z</span> \u8F74\u8D1F\u65B9\u5411\u5E73\u79FB\u8DDD\u79BB <span class="token number">50</span>\u3002

mesh<span class="token punctuation">.</span><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u6CBF\u7740\u81EA\u5B9A\u4E49\u7684\u65B9\u5411\u79FB\u52A8\u3002</span>
<span class="token comment">//\u5411\u91CF Vector3 \u5BF9\u8C61\u8868\u793A\u65B9\u5411</span>
<span class="token keyword">var</span> axis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
axis<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5411\u91CF\u5F52\u4E00\u5316</span>
<span class="token comment">//\u6CBF\u7740 axis \u8F74\u8868\u793A\u65B9\u5411\u5E73\u79FB 100</span>
mesh<span class="token punctuation">.</span><span class="token function">translateOnAxis</span><span class="token punctuation">(</span>axis<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u6267\u884C.translateX()\u3001.translateY()\u3001.translateOnAxis()\u7B49\u65B9\u6CD5\u672C\u8D28\u4E0A\u6539\u53D8\u7684\u90FD\u662F\u6A21\u578B\u7684\u4F4D\u7F6E\u5C5E\u6027.position\u3002</p></div><p><strong>rotateX/Y/Z</strong></p><blockquote><p>\u7ACB\u65B9\u4F53\u7F51\u683C\u6A21\u578B\u7ED5\u7ACB\u65B9\u4F53\u7684 x/y/z \u8F74\u65CB\u8F6C \u03C0/4\uFF0C\u53EF\u4EE5\u591A\u6B21\u6267\u884C\u8BE5\u8BED\u53E5\uFF0C\u6BCF\u6B21\u6267\u884C\u90FD\u662F\u76F8\u5BF9\u4E0A\u4E00\u6B21\u7684\u89D2\u5EA6\u8FDB\u884C\u65CB\u8F6C\u53D8\u5316</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7ED5x\u8F74\u65CB\u8F6C PI/4</span>
mesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u81EA\u5B9A\u4E49\u65CB\u8F6C\u8F74\u65CB\u8F6C</span>
<span class="token comment">// \u7F51\u683C\u6A21\u578B\u7ED5(0,1,0)\u5411\u91CF\u8868\u793A\u7684\u8F74\u65CB\u8F6C\u03C0/8</span>
<span class="token keyword">var</span> axis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5411\u91CFaxis</span>
mesh<span class="token punctuation">.</span><span class="token function">rotateOnAxis</span><span class="token punctuation">(</span>axis<span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7ED5axis\u8F74\u65CB\u8F6C\u03C0/8</span>

<span class="token comment">// \u7ED5\u7740Y\u8F74\u65CB\u8F6C90\u5EA6</span>
mesh<span class="token punctuation">.</span><span class="token function">rotateY</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u63A7\u5236\u53F0\u67E5\u770B\uFF1A\u65CB\u8F6C\u65B9\u6CD5\uFF0C\u6539\u53D8\u4E86rotation\u5C5E\u6027</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u6267\u884C\u65CB\u8F6C.rotateX()\u7B49\u65B9\u6CD5\u548C\u6267\u884C\u5E73\u79FB.translateY()\u7B49\u65B9\u6CD5\u4E00\u6837\u90FD\u662F\u5BF9\u6A21\u578B\u72B6\u6001\u5C5E\u6027\u7684\u6539\u53D8\uFF0C\u533A\u522B\u5728\u4E8E\u6267\u884C\u5E73\u79FB\u65B9\u6CD5\u6539\u53D8\u7684\u662F\u6A21\u578B\u7684\u4F4D\u7F6E\u5C5E\u6027.position\uFF0C\u6267\u884C\u6A21\u578B\u7684\u65CB\u8F6C\u65B9\u6CD5\u6539\u53D8\u7684\u662F\u8868\u793A\u6A21\u578B\u89D2\u5EA6\u72B6\u6001\u7684\u89D2\u5EA6\u5C5E\u6027.rotation \u6216\u8005\u56DB\u5143\u6570\u5C5E\u6027.quaternion\u3002</p><p>\u6A21\u578B\u7684\u89D2\u5EA6\u5C5E\u6027.rotation \u548C\u56DB\u5143\u6570\u5C5E\u6027.quaternion \u90FD\u662F\u8868\u793A\u6A21\u578B\u7684\u89D2\u5EA6\u72B6\u6001\uFF0C\u53EA\u662F\u8868\u793A\u65B9\u6CD5\u4E0D\u540C\uFF0C.rotation \u5C5E\u6027\u503C\u662F\u6B27\u62C9\u5BF9\u8C61 Euler,.quaternion \u5C5E\u6027\u503C\u662F\u662F\u56DB\u5143\u6570\u5BF9\u8C61 Quaternion</p></div><p><strong>\u65CB\u8F6C\u5C5E\u6027\u603B\u7ED3</strong></p><ul><li>rotation, \u6A21\u578B\u7684\u89D2\u5EA6\u5C5E\u6027</li><li>quaternion, \u56DB\u5143\u6570\u5C5E\u6027</li><li>rotateX/Y/Z, \u63A7\u5236\u6A21\u578B\u65CB\u8F6C</li></ul><h2 id="\u5149\u6E90\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u5149\u6E90\u5BF9\u8C61" aria-hidden="true">#</a> \u5149\u6E90\u5BF9\u8C61</h2><blockquote><p>threejs \u4E09\u7EF4\u573A\u666F\u5BF9\u8C61<code>Scene</code>\u4E3B\u8981\u7531\uFF0C\u6A21\u578B\u5BF9\u8C61\u548C\u5149\u6E90\u5BF9\u8C61\u6784\u6210.</p></blockquote><img src="http://assets.processon.com/chart_image/61b8c6497d9c0868e020ead4.png"><h3 id="\u5404\u5E38\u89C1\u5149\u6E90\u5BF9\u8C61\u5B9E\u8DF5" tabindex="-1"><a class="header-anchor" href="#\u5404\u5E38\u89C1\u5149\u6E90\u5BF9\u8C61\u5B9E\u8DF5" aria-hidden="true">#</a> \u5404\u5E38\u89C1\u5149\u6E90\u5BF9\u8C61\u5B9E\u8DF5</h3><blockquote><p>threejs \u865A\u62DF\u5149\u6E90\u662F\u5BF9\u81EA\u7136\u754C\u5149\u6E90\u7684\u6A21\u7CCA\uFF0C\u4E3A\u4E86\u66F4\u597D\u6E32\u67D3\u865A\u62DF\u573A\u666F\uFF0C\u9700\u8981\u8BBE\u7F6E\u597D\u5149\u6E90.</p></blockquote><ul><li><strong>\u73AF\u5883\u5149</strong></li></ul><blockquote><p>\u73AF\u5883\u5149\u5373\u662F\u81EA\u7136\u5149\u7684\u6A21\u62DF.\u73AF\u5883\u5149\u7167\u5C04\u5728\u7269\u4F53\u8868\u9762\u65F6\uFF0C\u7269\u4F53\u8868\u9762\u5404\u4E2A\u65B9\u5411\u7684\u660E\u6697\u7A0B\u5EA6\u4E00\u81F4.</p></blockquote><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u73AF\u5883\u5149\u7684\u989C\u8272\u8BA1\u7B97\u65B9\u5F0F\u662F\u548C\u7269\u4F53\u7684\u6750\u8D28\u989C\u8272\u76F8\u4E58\u8BA1\u7B97\u7684\u3002</p></div><ul><li><strong>\u70B9\u5149\u6E90</strong></li></ul><blockquote><p>\u70B9\u5149\u6E90\u6A21\u62DF\uFF0C\u7C7B\u4F3C\u751F\u6D3B\u4E2D\u7684\u767D\u70BD\u706F\u3002\u5149\u7EBF\u4ECE\u5149\u6E90\u6838\u5FC3\u5904\u5411\u5916\u6269\u6563\u3002\u5F53\u5149\u7EBF\u6295\u5C04\u5230\u7269\u4F53\u5E73\u9762\u65F6\uFF0C\u5149\u7EBF\u4E0E\u7269\u4F53\u8868\u9762\u7684\u5165\u5C04\u89D2\u4E0D\u4E00\u81F4\u3002\u56E0\u6B64\u7269\u4F53\u8868\u9762\u7684\u660E\u6697\u7A0B\u5EA6\u4E5F\u5C31\u4E0D\u76F8\u540C\uFF1B\u540C\u65F6\u4E5F\u53D7\u8FDC\u8FD1\u5F71\u54CD\u5149\u7EBF\u8870\u5F31\u7A0B\u5EA6\u4E0D\u540C\u3002 \u4E0E\u5E73\u884C\u5149\u4E0D\u540C\uFF0C\u5728\u4F7F\u7528\u70B9\u5149\u6E90\u65F6\uFF0C\u9700\u8981\u8BBE\u7F6E Light \u7684\u4F4D\u7F6E<code>position</code>\u5C5E\u6027\u3002</p></blockquote><ul><li><strong>\u5E73\u884C\u5149</strong></li></ul><blockquote><p>\u5E73\u884C\u5149\u987E\u540D\u601D\u4E49\u5149\u7EBF\u5E73\u884C\uFF0C\u5BF9\u4E8E\u4E00\u4E2A\u5E73\u9762\u800C\u8A00\uFF0C\u5E73\u9762\u4E0D\u540C\u533A\u57DF\u63A5\u6536\u5230\u5E73\u884C\u5149\u7684\u5165\u5C04\u89D2\u4E00\u6837\u3002\u70B9\u5149\u6E90\u56E0\u4E3A\u662F\u5411\u56DB\u5468\u53D1\u6563\uFF0C\u6240\u4EE5\u8BBE\u7F6E\u597D\u4F4D\u7F6E\u5C5E\u6027.position \u5C31\u53EF\u4EE5\u786E\u5B9A\u5149\u7EBF\u548C\u7269\u4F53\u8868\u9762\u7684\u5939\u89D2\uFF0C\u5BF9\u4E8E\u5E73\u884C\u5149\u800C\u8A00,\u4E3B\u8981\u662F\u786E\u5B9A\u5149\u7EBF\u7684\u65B9\u5411,\u5149\u7EBF\u65B9\u5411\u8BBE\u5B9A\u597D\u4E86\uFF0C\u5149\u7EBF\u7684\u4E0E\u7269\u4F53\u8868\u9762\u5165\u5C04\u89D2\u5C31\u786E\u5B9A\u4E86\uFF0C\u4EC5\u4EC5\u8BBE\u7F6E\u5149\u7EBF\u4F4D\u7F6E\u662F\u4E0D\u8D77\u4F5C\u7528\u7684\u3002 \u5728\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u4E3A\u4E86\u786E\u5B9A\u4E00\u6761\u76F4\u7EBF\u7684\u65B9\u5411\u53EA\u9700\u8981\u786E\u5B9A\u76F4\u7EBF\u4E0A\u4E24\u4E2A\u70B9\u7684\u5750\u6807\u5373\u53EF\uFF0C\u6240\u4EE5 Threejs \u5E73\u884C\u5149\u63D0\u4F9B\u4E86\u4F4D\u7F6E.position \u548C\u76EE\u6807.target \u4E24\u4E2A\u5C5E\u6027\u6765\u4E00\u8D77\u786E\u5B9A\u5E73\u884C\u5149\u65B9\u5411 \u76EE\u6807.target \u7684\u5C5E\u6027\u503C\u53EF\u4EE5\u662F Threejs \u573A\u666F\u4E2D\u4EFB\u4F55\u4E00\u4E2A\u4E09\u7EF4\u6A21\u578B\u5BF9\u8C61\uFF0C\u6BD4\u5982\u4E00\u4E2A\u7F51\u683C\u6A21\u578B Mesh\uFF0C\u8FD9\u6837 Threejs \u8BA1\u7B97\u5E73\u884C\u5149\u7167\u5C04\u65B9\u5411\u7684\u65F6\u5019\uFF0C\u4F1A\u901A\u8FC7\u81EA\u8EAB\u4F4D\u7F6E\u5C5E\u6027.position \u548C.target \u8868\u793A\u7684\u7269\u4F53\u7684\u4F4D\u7F6E\u5C5E\u6027.position \u8BA1\u7B97\u51FA\u6765\u3002</p></blockquote><p><em>\u5E73\u884C\u5149\u5982\u679C\u4E0D\u8BBE\u7F6E.position \u548C.target \u5C5E\u6027\uFF0C\u5149\u7EBF\u9ED8\u8BA4\u4ECE\u4E0A\u5F80\u4E0B\u7167\u5C04\uFF0C\u4E5F\u5C31\u662F\u53EF\u4EE5\u8BA4\u4E3A(0,1,0)\u548C(0,0,0)\u4E24\u4E2A\u5750\u6807\u786E\u5B9A\u7684\u5149\u7EBF\u65B9\u5411\u3002</em></p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5E73\u884C\u5149\u7684<code>position</code>\u5C5E\u6027\u5E76\u4E0D\u8868\u793A\u7269\u4F53\u7684\u53D1\u5C04\u8D77\u70B9\u3002\u800C\u662F\u7528\u6765\u786E\u5B9A\u5149\u7EBF\u7684\u65B9\u5411\u7528\u7684\u3002\u5E73\u884C\u5149\u7684\u53D1\u5C04\u8D77\u70B9\u53EF\u4EE5\u4ECE\u592A\u9633\u5149\u60F3\u8C61\uFF0C\u5373\u662F\u4ECE\u8FDC\u5904\u6CBF\u6307\u5B9A\u65B9\u5411\u6295\u5C04\u6765\u3002</p></div><ul><li><strong>\u805A\u5149\u706F</strong></li></ul><blockquote><p>\u805A\u5149\u6E90\u53EF\u4EE5\u8BA4\u4E3A\u662F\u4E00\u4E2A\u6CBF\u7740\u7279\u5B9A\u65B9\u4F1A\u9010\u6E10\u53D1\u6563\u7684\u5149\u6E90\uFF0C\u7167\u5C04\u8303\u56F4\u5728\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u6784\u6210\u4E00\u4E2A\u5706\u9525\u4F53\u3002\u901A\u8FC7\u5C5E\u6027.angle \u53EF\u4EE5\u8BBE\u7F6E\u805A\u5149\u6E90\u53D1\u6563\u89D2\u5EA6\uFF0C\u805A\u5149\u6E90\u7167\u5C04\u65B9\u5411\u8BBE\u7F6E\u548C\u5E73\u884C\u5149\u5149\u6E90\u4E00\u6837\u662F\u901A\u8FC7\u4F4D\u7F6E.position \u548C\u76EE\u6807.target \u4E24\u4E2A\u5C5E\u6027\u6765\u5B9E\u73B0\u3002</p></blockquote><h3 id="\u5149\u6E90\u8F85\u52A9\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u5149\u6E90\u8F85\u52A9\u5BF9\u8C61" aria-hidden="true">#</a> <strong>\u5149\u6E90\u8F85\u52A9\u5BF9\u8C61</strong></h3><table><thead><tr><th>\u8F85\u52A9\u5BF9\u8C61</th><th>\u6784\u9020</th></tr></thead><tbody><tr><td>\u805A\u5149\u6E90\u8F85\u52A9</td><td>SpotLightHelper</td></tr><tr><td>\u70B9\u5149\u6E90\u8F85\u52A9</td><td>PointLightHelper</td></tr><tr><td>\u5E73\u884C\u5149\u5149\u6E90\u8F85\u52A9</td><td>DirectionalHelper</td></tr></tbody></table><h3 id="\u5149\u7167\u8BA1\u7B97\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5149\u7167\u8BA1\u7B97\u7B97\u6CD5" aria-hidden="true">#</a> \u5149\u7167\u8BA1\u7B97\u7B97\u6CD5</h3><blockquote><p>Threejs \u5728\u6E32\u67D3\u7684\u65F6\u5019\u7F51\u683C\u6A21\u578B\u6750\u8D28\u7684\u989C\u8272\u503C mesh.material.color \u548C\u5149\u6E90\u7684\u989C\u8272\u503C light.color \u4F1A\u8FDB\u884C\u76F8\u4E58\uFF0C\u7B80\u5355\u8BF4\u5C31\u662F RGB \u4E09\u4E2A\u5206\u91CF\u5206\u522B\u76F8\u4E58\u3002 \u6570\u5B66\u6A21\u578B\u4E3A: \u6F2B\u53CD\u5C04\u5149\u7684\u989C\u8272 = \u7F51\u683C\u6A21\u578B\u6750\u8D28\u989C\u8272\u503C x \u5149\u7EBF\u989C\u8272 x \u5149\u7EBF\u5165\u5C04\u89D2\u4F59\u5F26\u503C \u5149\u7167\u989C\u8272\u8BA1\u7B97\u6700\u540E\u989C\u8272\uFF0C\u5C31\u662F\u5149\u7EBF\u900F\u8FC7\u7269\u4F53\uFF0C\u53CD\u5C04\u540E\u7684\u989C\u8272\u3002\u4E5F\u5C31\u662F\u6700\u7EC8\u53CD\u9988\u7ED9\u8089\u773C\u7684\u989C\u8272\u3002</p></blockquote><p><em>\u6F2B\u53CD\u5C04\u989C\u8272\u8BA1\u7B97\u516C\u5F0F: (R2, G2, B2) = (R1, G1, B1) x (R0, G0, B0) x cos\u03B8</em></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token constant">R2</span> <span class="token operator">=</span> <span class="token constant">R1</span> <span class="token operator">*</span> <span class="token constant">R0</span> <span class="token operator">*</span> cos\u03B8<span class="token punctuation">;</span>
<span class="token constant">G2</span> <span class="token operator">=</span> <span class="token constant">G1</span> <span class="token operator">*</span> <span class="token constant">G0</span> <span class="token operator">*</span> cos\u03B8<span class="token punctuation">;</span>
<span class="token constant">B2</span> <span class="token operator">=</span> <span class="token constant">B1</span> <span class="token operator">*</span> <span class="token constant">B0</span> <span class="token operator">*</span> cos\u03B8<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u767D\u8272\u53EF\u4EE5\u53CD\u5C04\u4EFB\u610F\u5149\u7EBF\u3002\u6750\u8D28\u672C\u8EAB\u989C\u8272\u3002\u5E76\u4E0D\u662F\u771F\u6B63\u53CD\u9988\u7ED9\u8089\u773C\u7684\uFF0C\u800C\u662F\u901A\u8FC7\u5149\u7EBF\u53CD\u9988\u7ED9\u8089\u773C\u3002\u6BD4\u5982\u4E00\u4E2A\u9ED1\u8272\u7684\u7269\u4F53\uFF0C\u5728\u84DD\u8272\u5149\u7EBF\u4E0B\uFF0C\u4F1A\u8868\u73B0\u84DD\u8272\u6548\u679C\u3002</p></div><h2 id="\u76F8\u673A" tabindex="-1"><a class="header-anchor" href="#\u76F8\u673A" aria-hidden="true">#</a> \u76F8\u673A</h2><p>\u76F8\u5173\u6982\u5FF5:</p>`,113),j={href:"https://blog.csdn.net/zipack/article/details/114384862",target:"_blank",rel:"noopener noreferrer"},L=l("\u900F\u89C6\u4E0E\u6B63\u4EA4"),G=s(`<h2 id="\u9634\u5F71\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u9634\u5F71\u8BA1\u7B97" aria-hidden="true">#</a> \u9634\u5F71\u8BA1\u7B97</h2><blockquote><p>\u901A\u8FC7\u8BBE\u7F6E\u4E0D\u540C\u7684\u5149\u6E90\u5BF9\u8C61\uFF0C\u6765\u5F00\u542F\u6A21\u578B\u5728\u573A\u666F\u7684\u9634\u5F71\u6E32\u67D3</p></blockquote><h3 id="\u5F00\u542F\u5E73\u884C\u5149\u9634\u5F71\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#\u5F00\u542F\u5E73\u884C\u5149\u9634\u5F71\u6E32\u67D3" aria-hidden="true">#</a> \u5F00\u542F\u5E73\u884C\u5149\u9634\u5F71\u6E32\u67D3</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5982\u679C\u4E0D\u5F00\u542F\u9634\u5F71\uFF0C\u5219\u4E0D\u4F1A\u6E32\u67D3\u9634\u5F71</span>
renderer<span class="token punctuation">.</span>shadowMap<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u5173\u952E\u70B94\uFF0C</span>
renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span><span class="token function">setClearColor</span><span class="token punctuation">(</span><span class="token number">0x888888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x0000ff</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8BBE\u7F6E\u4EA7\u751F\u6295\u5F71\u7684\u7F51\u683C\u6A21\u578B</span>
mesh<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u5173\u952E\u70B91</span>
mesh<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u5E73\u9762\u51E0\u4F55\u4F53\u4F5C\u4E3A\u6295\u5F71\u9762</span>
<span class="token keyword">let</span> planeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span>
  window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
  window<span class="token punctuation">.</span>innerHeight
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> planeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xffffff</span><span class="token punctuation">,</span>
  <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> planeMesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>planeGeometry<span class="token punctuation">,</span> planeMaterial<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>planeMesh<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u6DFB\u52A0\u5230\u573A\u666F\u4E2D</span>
planeMesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u65CB\u8F6C\u7F51\u683C\u6A21\u578B</span>
planeMesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u7F51\u683C\u6A21\u578By\u5750\u6807</span>
<span class="token comment">// \u8BBE\u7F6E\u63A5\u6536\u9634\u5F71\u7684\u6295\u5F71\u9762, \u5173\u952E\u70B92</span>
planeMesh<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// \u65B9\u5411\u5149</span>
<span class="token keyword">let</span> directionalLight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u5149\u6E90\u4F4D\u7F6E</span>
directionalLight<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>directionalLight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u7528\u4E8E\u8BA1\u7B97\u9634\u5F71\u7684\u5149\u6E90\u5BF9\u8C61, \u5173\u952E\u70B9 3</span>
directionalLight<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u8BA1\u7B97\u9634\u5F71\u7684\u533A\u57DF\uFF0C\u6700\u597D\u521A\u597D\u7D27\u5BC6\u5305\u56F4\u5728\u5BF9\u8C61\u5468\u56F4</span>
<span class="token comment">// \u8BA1\u7B97\u9634\u5F71\u7684\u533A\u57DF\u8FC7\u5927\uFF1A\u6A21\u7CCA  \u8FC7\u5C0F\uFF1A\u770B\u4E0D\u5230\u6216\u663E\u793A\u4E0D\u5B8C\u6574</span>
<span class="token comment">// shadow\u5C5E\u6027camera\u5B9A\u4E49\u573A\u666F\u4E2D\u6A21\u578B\u7684\u6DF1\u5EA6\u56FE\uFF0C\u5373\u6A21\u578B\u9634\u5F71</span>
directionalLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>near <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
directionalLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>far <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
directionalLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">;</span>
directionalLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
directionalLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
directionalLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>\u8BBE\u7F6E\u9634\u5F71\u7684\u5173\u952E\u70B9:</p><ol><li>\u542F\u7528\u6E32\u67D3\u5668\u7684\u9634\u5F71\u6E32\u67D3</li><li>\u8BBE\u7F6E\u6E32\u67D3\u5668\u7684\u76F8\u673A\u7C7B\u578B.</li><li>\u8BBE\u7F6E\u9634\u5F71\u7528\u7684\u6A21\u578B</li><li>\u8BBE\u7F6E\u63A5\u6536\u9634\u5F71\u7684\u6A21\u578B</li><li>\u8BBE\u7F6E\u5149\u6E90\u4F11\u606F,\u7528\u6765\u6295\u5C04\u9634\u5F71</li></ol><h3 id="\u805A\u5149\u706F\u9634\u5F71\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u805A\u5149\u706F\u9634\u5F71\u8BA1\u7B97" aria-hidden="true">#</a> \u805A\u5149\u706F\u9634\u5F71\u8BA1\u7B97</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xff0000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8BBE\u7F6E\u4EA7\u751F\u6295\u5F71\u7684\u7F51\u683C\u6A21\u578B</span>
mesh<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u5173\u952E\u70B91</span>
mesh<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u5E73\u9762\u51E0\u4F55\u4F53\u4F5C\u4E3A\u6295\u5F71\u9762</span>
<span class="token keyword">let</span> planeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span>
  window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
  window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>
  <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token number">20</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//   let planeMaterial = new THREE.MeshPhongMaterial({</span>
<span class="token comment">//     color: 0x00ff00,</span>
<span class="token comment">//   });</span>
<span class="token keyword">let</span> planeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x00ff00</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> planeMesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>planeGeometry<span class="token punctuation">,</span> planeMaterial<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>planeMesh<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u6DFB\u52A0\u5230\u573A\u666F\u4E2D</span>
planeMesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u65CB\u8F6C\u7F51\u683C\u6A21\u578B</span>
planeMesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u7F51\u683C\u6A21\u578By\u5750\u6807</span>
<span class="token comment">// \u8BBE\u7F6E\u63A5\u6536\u9634\u5F71\u7684\u6295\u5F71\u9762, \u5173\u952E\u70B92</span>
planeMesh<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
planeMesh<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// \u65B9\u5411\u5149</span>
<span class="token keyword">var</span> spotLight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SpotLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u805A\u5149\u5149\u6E90\u4F4D\u7F6E</span>
spotLight<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u805A\u5149\u5149\u6E90\u53D1\u6563\u89D2\u5EA6</span>
spotLight<span class="token punctuation">.</span>angle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>spotLight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5149\u5BF9\u8C61\u6DFB\u52A0\u5230scene\u573A\u666F\u4E2D</span>
<span class="token comment">// \u8BBE\u7F6E\u7528\u4E8E\u8BA1\u7B97\u9634\u5F71\u7684\u5149\u6E90\u5BF9\u8C61</span>
spotLight<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u8BA1\u7B97\u9634\u5F71\u7684\u533A\u57DF\uFF0C\u6CE8\u610F\u5305\u88F9\u5BF9\u8C61\u7684\u5468\u56F4</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">512</span><span class="token punctuation">;</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">512</span><span class="token punctuation">;</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>near <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>far <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span>
<span class="token comment">//   spotLight.shadow.camera.fov = 20;</span>

<span class="token comment">// \u5B9A\u4E49\u9634\u5F71\u7684\u5C3A\u5BF8</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">,</span> spotLight<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> helper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CameraHelper</span><span class="token punctuation">(</span>spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>helper<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> spotLightHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SpotLightHelper</span><span class="token punctuation">(</span>spotLight<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>spotLightHelper<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><p>\u8981\u70B9:</p><blockquote><p>\u540C\u5E73\u884C\u5149\u4E00\u6837\uFF0C\u805A\u5149\u706F\u7684\u9634\u5F71\u8BA1\u7B97\u9700\u8981\u5F00\u542F\u6750\u8D28\u8868\u9762\u7684\u7CBE\u5EA6\u3002\u5982\u4E0A\u9762\u7684\u51E0\u4F55\u5E73\u9762\u6A21\u578B\uFF0C\u9700\u8981\u5F00\u542F\u6C34\u5E73 x,y \u7684\u5206\u6BB5\u7CFB\u6570\u3002\u7531\u4E8E\u91C7\u7528\u7684\u6750\u8D28\u6A21\u62DF\u7684\u7269\u7406\u8868\u9762\u4E0D\u5177\u6709\u9AD8\u5149\u6548\u679C\u3002\u5E76\u4E14\u662F\u975E\u5149\u6CFD\u5E73\u9762\u3002</p></blockquote><p>\u8BA1\u7B97\u9634\u5F71\u76F8\u5173</p><table><thead><tr><th>\u5C5E\u6027</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td>castShadow</td><td>castShadow \u5C5E\u6027\u503C\u662F\u5E03\u5C14\u503C\uFF0C\u9ED8\u8BA4 false\uFF0C\u7528\u6765\u8BBE\u7F6E\u4E00\u4E2A\u6A21\u578B\u5BF9\u8C61\u662F\u5426\u5728\u5149\u7167\u4E0B\u4EA7\u751F\u6295\u5F71\u6548\u679C</td></tr><tr><td>receiveShadow</td><td>receiveShadow \u5C5E\u6027\u503C\u662F\u5E03\u5C14\u503C\uFF0C\u9ED8\u8BA4 false\uFF0C\u7528\u6765\u8BBE\u7F6E\u4E00\u4E2A\u6A21\u578B\u5BF9\u8C61\u662F\u5426\u5728\u5149\u7167\u4E0B\u63A5\u53D7\u5176\u5B83\u6A21\u578B\u7684\u6295\u5F71\u6548\u679C</td></tr><tr><td>\u5149\u6E90.castShadow</td><td>\u5982\u679C\u5C5E\u6027\u8BBE\u7F6E\u4E3A true\uFF0C \u5149\u6E90\u5C06\u6295\u5C04\u52A8\u6001\u9634\u5F71. \u8B66\u544A: \u8FD9\u9700\u8981\u5F88\u591A\u8BA1\u7B97\u8D44\u6E90\uFF0C\u9700\u8981\u8C03\u6574\u4EE5\u4F7F\u9634\u5F71\u770B\u8D77\u6765\u6B63\u786E.</td></tr><tr><td>\u5149\u6E90.shadow \u5C5E\u6027</td><td>\u5E73\u884C\u5149 DirectionalLight \u7684.shadow \u5C5E\u6027\u503C\u662F\u5E73\u884C\u5149\u9634\u5F71\u5BF9\u8C61 DirectionalLightShadow\uFF0C\u805A\u5149\u6E90 SpotLight \u7684.shadow \u5C5E\u6027\u503C\u662F\u805A\u5149\u6E90\u9634\u5F71\u5BF9\u8C61 SpotLightShadow</td></tr><tr><td>\u9634\u5F71\u5BF9\u8C61\u57FA\u7C7B LightShadow</td><td>\u5E73\u884C\u5149\u9634\u5F71\u5BF9\u8C61 DirectionalLightShadow \u548C\u805A\u5149\u6E90\u9634\u5F71\u5BF9\u8C61 SpotLightShadow \u4E24\u4E2A\u7C7B\u7684\u57FA\u7C7B\u662F LightShadow</td></tr></tbody></table><p>\u9634\u5F71\u5BF9\u8C61\u5C5E\u6027:</p><ol><li>.camera: \u89C2\u5BDF\u5149\u6E90\u7684\u76F8\u673A\u5BF9\u8C61. \u4ECE\u5149\u7684\u89D2\u5EA6\u6765\u770B\uFF0C\u4EE5\u76F8\u673A\u5BF9\u8C61\u7684\u89C2\u5BDF\u4F4D\u7F6E\u548C\u65B9\u5411\u6765\u5224\u65AD\uFF0C\u5176\u4ED6\u7269\u4F53\u80CC\u540E\u7684\u7269\u4F53\u5C06\u5904\u4E8E\u9634\u5F71\u4E2D\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>near <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// \u89C6\u690E\u4F53\u8FD1\u7AEF\u9762</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>far <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span> <span class="token comment">// \u89C6\u690E\u4F53\u8FDC\u7AEF\u9762</span>
spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>fov <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// \u5782\u76F4\u89C6\u690E\u4F53\u8DDD\u79BB</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>.mapSize \u5B9A\u4E49\u9634\u5F71\u7EB9\u7406\u8D34\u56FE\u5BBD\u9AD8\u5C3A\u5BF8\u7684\u4E00\u4E2A\u4E8C\u7EF4\u5411\u91CF Vector2.\u8F83\u9AD8\u7684\u503C\u4F1A\u4EE5\u8BA1\u7B97\u65F6\u95F4\u4E3A\u4EE3\u4EF7\u63D0\u4F9B\u66F4\u597D\u7684\u9634\u5F71\u8D28\u91CF. \u5BBD\u9AD8\u5206\u91CF\u503C\u5FC5\u987B\u662F 2 \u7684\u5E42, \u76F4\u5230\u7ED9\u5B9A\u8BBE\u5907\u7684 WebGLRenderer.capabilities.maxTextureSize. \u9ED8\u8BA4, (512, 512)</li><li>map: \u8BE5\u5C5E\u6027\u7684\u503C\u662F WebGL \u6E32\u67D3\u76EE\u6807\u5BF9\u8C61 WebGLRenderTarget\uFF0C\u4F7F\u7528\u5185\u7F6E\u6444\u50CF\u5934\u751F\u6210\u7684\u6DF1\u5EA6\u56FE; \u8D85\u51FA\u50CF\u7D20\u6DF1\u5EA6\u7684\u4F4D\u7F6E\u5728\u9634\u5F71\u4E2D\u3002 \u5728\u6E32\u67D3\u671F\u95F4\u5185\u90E8\u8BA1\u7B97\u3002</li></ol><h3 id="\u5149\u6E90\u5BF9\u8C61\u4E4B\u95F4\u7684\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u5149\u6E90\u5BF9\u8C61\u4E4B\u95F4\u7684\u5173\u7CFB" aria-hidden="true">#</a> \u5149\u6E90\u5BF9\u8C61\u4E4B\u95F4\u7684\u5173\u7CFB</h3><p><strong>\u5149\u6E90\u989C\u8272.color \u4E0E\u5149\u5F3A\u5EA6.indentisty</strong></p><blockquote><p>\u5149\u7167\u5728\u8BA1\u7B97\u65F6\uFF0C\u4F1A\u8BA1\u7B97\u4E24\u4E2A\u503C\u7684\u4E58\u79EF\u3002\u56E0\u6B64\u8C03\u6574\u5149\u7167\u5F3A\u5EA6\uFF0C\u4E5F\u53EF\u4EE5\u4ECE\u989C\u8272\u6216\u8005\u5149\u7167\u5F3A\u5EA6\u5355\u65B9\u9762\u8C03\u6574\u3002</p></blockquote><img src="`+y+'"><h2 id="\u5C42\u7EA7\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u5C42\u7EA7\u6A21\u578B" aria-hidden="true">#</a> \u5C42\u7EA7\u6A21\u578B</h2><h2 id="\u7EB9\u7406\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u7EB9\u7406\u8D34\u56FE" aria-hidden="true">#</a> \u7EB9\u7406\u8D34\u56FE</h2><blockquote><p>\u7EB9\u7406\u8D34\u56FE\u662F Threejs \u4E00\u4E2A\u5F88\u91CD\u8981\u7684\u5185\u5BB9\uFF0C\u6E38\u620F\u3001\u4EA7\u54C1 720 \u5C55\u793A\u3001\u7269\u8054\u7F51 3D \u53EF\u89C6\u5316\u7B49\u9879\u76EE\u7A0B\u5E8F\u5458\u52A0\u8F7D\u6A21\u578B\u7684\u540C\u65F6\u9700\u8981\u5904\u7406\u7EB9\u7406\u8D34\u56FE\u3002</p></blockquote><p>\u7EB9\u7406\u8D34\u56FE\u7C7B\u578B:</p><img src="'+w+`"><h3 id="\u7EB9\u7406\u8D34\u56FE\u521B\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u7EB9\u7406\u8D34\u56FE\u521B\u5EFA" aria-hidden="true">#</a> \u7EB9\u7406\u8D34\u56FE\u521B\u5EFA</h3><blockquote><p>\u7EB9\u7406\u8D34\u56FE\u521B\u5EFA\u901A\u8FC7\u7EB9\u7406\u8D34\u56FE\u52A0\u8F7D\u5668\u52A0\u8F7D\u4E00\u5F20\u56FE\u7247\uFF0C\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u7EB9\u7406\u5BF9\u8C61 Texture.\u7EB9\u7406\u5BF9\u8C61 Texture \u53EF\u4EE5\u4F5C\u4E3A\u6A21\u578B\u6750\u8D28\u989C\u8272\u8D34\u56FE.map \u5C5E\u6027\u7684\u503C\u3002\u8BBE\u7F6E\u6750\u8D28\u989C\u8272\u7684 map \u5C5E\u6027\u540E\uFF0C\u4E0D\u9700\u8981\u518D\u8BBE\u7F6E\u6750\u8D28\u989C\u8272\u3002\u7F51\u683C\u6A21\u578B\u4F1A\u83B7\u53D6\u7EB9\u7406\u8D34\u56FE\u7684 RGB \u503C\u3002\u8BBE\u7F6E\u5230\u6A21\u578B\u4E0A\u3002</p></blockquote><p>\u4E0D\u540C\u6A21\u578B\u5177\u6709\u4E0D\u540C\u7684 uv \u5750\u6807\u6765\u8BBE\u7F6E\u8D34\u56FE\u548C\u6A21\u578B\u7684\u6620\u5C04\u89C4\u5F8B</p><p><strong>\u9762\u6A21\u578B\u6E32\u67D3\u8D34\u56FE</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ...</span>
<span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
  <span class="token string">&quot;./static/earth.jpeg&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">texture</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
      <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> planmesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
    planmesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//   planmesh.position.y = -200;</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>planmesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u52A0\u8F7D\u6210\u529F\u8FC7\u540E\uFF0C\u4ECE\u65B0\u8C03\u7528render\u6E32\u67D3</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="\u7403\u4F53\u6A21\u578B\u8D34\u56FE\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#\u7403\u4F53\u6A21\u578B\u8D34\u56FE\u6E32\u67D3" aria-hidden="true">#</a> \u7403\u4F53\u6A21\u578B\u8D34\u56FE\u6E32\u67D3</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
  <span class="token string">&quot;./static/earth.jpeg&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">texture</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
      <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> planmesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
    planmesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//   planmesh.position.y = -200;</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>planmesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u52A0\u8F7D\u6210\u529F\u8FC7\u540E\uFF0C\u4ECE\u65B0\u8C03\u7528render\u6E32\u67D3</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="\u7ACB\u65B9\u4F53-\u8D34\u56FE\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#\u7ACB\u65B9\u4F53-\u8D34\u56FE\u6E32\u67D3" aria-hidden="true">#</a> \u7ACB\u65B9\u4F53-\u8D34\u56FE\u6E32\u67D3</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
  <span class="token string">&quot;./static/earth.jpeg&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">texture</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
      <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> planmesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
    planmesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//   planmesh.position.y = -200;</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>planmesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u52A0\u8F7D\u6210\u529F\u8FC7\u540E\uFF0C\u4ECE\u65B0\u8C03\u7528render\u6E32\u67D3</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="\u7EB9\u7406\u5BF9\u8C61-texture" tabindex="-1"><a class="header-anchor" href="#\u7EB9\u7406\u5BF9\u8C61-texture" aria-hidden="true">#</a> \u7EB9\u7406\u5BF9\u8C61-Texture</h4><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u901A\u8FC7\u56FE\u7247\u52A0\u8F7D\u5668 ImageLoader \u53EF\u4EE5\u52A0\u8F7D\u4E00\u5F20\u56FE\u7247\uFF0C\u6240\u8C13\u7EB9\u7406\u5BF9\u8C61 Texture \u7B80\u5355\u5730\u8BF4\u5C31\u662F\uFF0C\u7EB9\u7406\u5BF9\u8C61 Texture \u7684.image \u5C5E\u6027\u503C\u662F\u4E00\u5F20\u56FE\u7247\u3002</p></div><p>\u4F7F\u7528\u56FE\u7247\u52A0\u8F7D\u5668\u52A0\u8F7D\u56FE\u7247\uFF0C\u5E76\u521B\u5EFA\u56FE\u7247\u8D34\u56FE.</p><h4 id="\u56FE\u7247\u52A0\u8F7D\u5668\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u56FE\u7247\u52A0\u8F7D\u5668\u4F7F\u7528" aria-hidden="true">#</a> \u56FE\u7247\u52A0\u8F7D\u5668\u4F7F\u7528</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> imgLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>ImageLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u4F7F\u7528\u52A0\u8F7D\u5668\u52A0\u8F7D\u56FE\u7247</span>
imgLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
  <span class="token string">&quot;./static/earth.jpeg&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> texture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Texture</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4F7F\u7528\u8D34\u56FE\u5BF9\u8C61\u57FA\u7C7B\u521B\u5EFA\u8D34\u56FE</span>

    <span class="token comment">// \u8BBE\u7F6E\u8D34\u56FE\u66F4\u65B0</span>
    texture<span class="token punctuation">.</span>needsUpdate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
      <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> planmesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
    planmesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//   planmesh.position.y = -200;</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>planmesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u52A0\u8F7D\u6210\u529F\u8FC7\u540E\uFF0C\u4ECE\u65B0\u8C03\u7528render\u6E32\u67D3</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>\u5F52\u7EB3\uFF1A \u4E0A\u9762\u4F8B\u5B50\u4F7F\u7528\u56FE\u7247\u52A0\u8F7D\u5668\u52A0\u8F7D\u56FE\u7247\uFF0C\u7136\u540E\u4F7F\u7528\u7EB9\u7406\u5BF9\u8C61,\u4F7F\u7528\u56FE\u7247\u624B\u52A8\u6784\u67B6\u7EB9\u7406\u8D34\u56FE\u3002\u6D89\u53CA api \u77E5\u8BC6\u70B9</p><ol><li>ImageLoader, \u52A0\u8F7D\u56FE\u7247\uFF0C\u7528\u6765\u751F\u6210\u7EB9\u7406</li><li>Texture, \u521B\u5EFA\u56FE\u7247\u8D34\u56FE</li><li>\u5F02\u6B65\u56FE\u7247\u52A0\u8F7D</li></ol><h4 id="\u77E5\u8BC6\u70B9\u8111\u56FE" tabindex="-1"><a class="header-anchor" href="#\u77E5\u8BC6\u70B9\u8111\u56FE" aria-hidden="true">#</a> \u77E5\u8BC6\u70B9\u8111\u56FE</h4><img src="`+v+'"><h2 id="\u9876\u70B9\u7EB9\u7406\u5750\u6807" tabindex="-1"><a class="header-anchor" href="#\u9876\u70B9\u7EB9\u7406\u5750\u6807" aria-hidden="true">#</a> \u9876\u70B9\u7EB9\u7406\u5750\u6807</h2><blockquote><p>uv \u8D34\u56FE\u5750\u6807\u7528\u6765\u4E0E\u7EB9\u7406\u8D34\u56FE\u505A\u6620\u5C04\u7528\uFF0C\u8BBE\u7F6E\u6A21\u578B\u7EB9\u7406\u3002\u6B64\u77E5\u8BC6\u70B9\u63A2\u7A76 uv \u5750\u6807\u548C\u7EB9\u7406\u8D34\u56FE\u7684\u6620\u5C04\u5173\u7CFB\u3002</p></blockquote><p>\u77E5\u8BC6\u70B9\u8111\u56FE:</p><img src="'+f+'"><h3 id="uv-\u5750\u6807" tabindex="-1"><a class="header-anchor" href="#uv-\u5750\u6807" aria-hidden="true">#</a> uv \u5750\u6807</h3><blockquote><p>\u51E0\u4F55\u4F53\u7684\u6784\u6210\uFF0C\u7531\u9876\u70B9\u6570\u636E\u6240\u5F62\u6210\u7684\u4E09\u89D2\u5F62\u9762\uFF0C\u65E0\u6570\u7684\u9762\u6765\u6784\u6210\u51E0\u4F55\u4F53\u3002\u800C uv \u5750\u6807\u5C31\u662F\u8FD9\u4E2A\u9762\u4E0A\u7684\u70B9\uFF0C\u4E8C\u7EF4\u5E73\u9762\u5750\u6807\u3002</p></blockquote><h3 id="\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#\u6620\u5C04" aria-hidden="true">#</a> \u6620\u5C04</h3><blockquote><p>\u7EB9\u7406 UV \u5750\u6807\u548C\u9876\u70B9\u4F4D\u7F6E\u5750\u6807\u662F\u4E00\u4E00\u5BF9\u5E94\u5173\u7CFB\uFF0C\u8FD9\u4E5F\u5C31\u662F\u4E3A\u4EC0\u4E48\u4E00\u5F20\u56FE\u7247\u53EF\u4EE5\u6620\u5C04\u5230\u4E00\u4E2A\u6A21\u578B\u7684\u8868\u9762\uFF0C\u53EA\u8981\u628A\u56FE\u7247\u7684\u6BCF\u4E2A\u7EB9\u7406\u5750\u6807\u548C\u6A21\u578B\u7684\u9876\u70B9\u4F4D\u7F6E\u5EFA\u7ACB\u4E00\u5BF9\u4E00\u7684\u5173\u7CFB\uFF0C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u56FE\u50CF\u5230\u6A21\u578B\u7684\u6620\u5C04\u3002</p></blockquote><p>\u7EB9\u7406\u6620\u5C04:</p><img src="'+E+`"><h3 id="nv-\u5750\u6807\u7684\u5206\u7EC4" tabindex="-1"><a class="header-anchor" href="#nv-\u5750\u6807\u7684\u5206\u7EC4" aria-hidden="true">#</a> nv \u5750\u6807\u7684\u5206\u7EC4</h3><ol><li>\u51E0\u4F55\u4F53\u6709\u4E24\u7EC4 UV \u5750\u6807\uFF0C\u7B2C\u4E00\u7EC4\u7EC4\u7528\u4E8E.map\u3001.normalMap\u3001.specularMap \u7B49\u8D34\u56FE\u7684\u6620\u5C04</li><li>\u7B2C\u4E8C\u7EC4\u7528\u4E8E\u9634\u5F71\u8D34\u56FE.lightMap \u7684\u6620\u5C04</li></ol><h3 id="\u7EB9\u7406\u5750\u6807\u4FEE\u6539" tabindex="-1"><a class="header-anchor" href="#\u7EB9\u7406\u5750\u6807\u4FEE\u6539" aria-hidden="true">#</a> \u7EB9\u7406\u5750\u6807\u4FEE\u6539</h3><blockquote><p>uv \u5750\u6807\u662F\u4E8C\u4F4D\u77E2\u91CF. threejs \u4E2D\uFF0C\u901A\u8FC7 Vector2 \u8BBE\u7F6E. \u8BBE\u7F6E\u51E0\u4F55\u4F53\u8D34\u56FE\u65F6\uFF0C\u6839\u636E uv \u5750\u6807\u548C\u51E0\u4F55\u4F53\u9876\u70B9\u7684\u5750\u6807\u6620\u5C04\u3002\u6765\u5B8C\u6210\u9762\u8D34\u56FE\u8BBE\u7F6E\u3002</p></blockquote><p><strong>\u83B7\u53D6 uv \u5750\u6807</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u91CC\u5047\u8BBE\u83B7\u53D6\u7ACB\u65B9\u4F53\u7684uv\u5750\u6807</span>
<span class="token keyword">let</span> gemotry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> uv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> uvAttribute <span class="token operator">=</span> gemotry<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u904D\u5386\u83B7\u53D6\u6BCF\u4E2A\u9762\u7684uv\u5750\u6807\u70B9</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> uvAttribute<span class="token punctuation">.</span>count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  uv<span class="token punctuation">.</span><span class="token function">fromBufferAttribute</span><span class="token punctuation">(</span>uvAttribute<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8FD4\u56DE\u5E73\u9762\u7684\u6BCF\u4E2A\u9876\u70B9uv\u5750\u6807</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>\u66F4\u65B0 uv \u5750\u6807</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> faceUV <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> uvAttribute<span class="token punctuation">.</span>count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  faceUV <span class="token operator">=</span> uv<span class="token punctuation">.</span><span class="token function">fromBufferAttribute</span><span class="token punctuation">(</span>uvAttribute<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8FD4\u56DE\u5E73\u9762\u7684\u6BCF\u4E2A\u9876\u70B9uv\u5750\u6807</span>
<span class="token punctuation">}</span>
uvAttribute<span class="token punctuation">.</span><span class="token function">setXY</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> faceUV<span class="token punctuation">.</span>x<span class="token punctuation">,</span> faceUV<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u5C42\u7EA7\u6A21\u578B-1" tabindex="-1"><a class="header-anchor" href="#\u5C42\u7EA7\u6A21\u578B-1" aria-hidden="true">#</a> \u5C42\u7EA7\u6A21\u578B</h2><blockquote><p>\u573A\u666F\u7684\u6A21\u578B\u5BF9\u8C61\uFF0C\u5C31\u662F\u7531\u4E00\u4E2A\u4E2A\u5355\u4E00\u6A21\u578B\u7EC4\u5408\u800C\u6210\u3002\u53C2\u7167html\u7684\u5143\u7D20\u6784\u5EFA\u7684dom\u6570\u3002threejs\u4E2D\u7684\u6A21\u578B\u4E5F\u662F\u7531\u4E00\u4E2A\u4E2A\u6A21\u578B\u5BF9\u8C61\u6784\u6210\u7684\uFF0C\u8FD9\u4E9B\u5355\u4E00\u7684\u6A21\u578B\u53EF\u4EE5\u901A\u8FC7id\u6216name\u53BB\u9009\u62E9\u3002threejs\u4E2D\uFF0C\u901A\u8FC7group\u53BB\u7EC4\u7EC7\u5404\u4E2A\u6A21\u578B\u3002</p></blockquote><p>\u77E5\u8BC6\u70B9\u8111\u56FE:</p><img src="`+x+`"><h3 id="group\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#group\u5BF9\u8C61" aria-hidden="true">#</a> Group\u5BF9\u8C61</h3><blockquote><p>\u901A\u8FC7Group\u7C7B\u5B9E\u4F8B\u5316\u7EC4\u5BF9\u8C61\u3002\u6574\u4E2A\u573A\u666F\u4E2D\uFF0Cscene\u8D1F\u8D23\u573A\u666F\u7684\u6839\u8282\u70B9\u3002\u7136\u540E\u662FGroup\u7EC4\u7EC7\u65D7\u4E0B\u7684\u53F6\u5B50\u7F51\u683C\u6A21\u578B\u7B49\u3002\u6700\u540E\u518D\u662F\u4E0E\u7F51\u683C\u6A21\u578B\u7684\u540C\u7EA7\u8282\u70B9\u7684\u5149\u6E90\uFF0C\u6750\u8D28\u7B49\u5BF9\u8C61\u7684\u7EC4\u7EC7\u3002\u4E00\u4E2A\u6A21\u578B\u8981\u60F3\u5728\u573A\u666F\u4E2D\u6E32\u67D3\u51FA\u6765\uFF0C\u9700\u8981\u6DFB\u52A0\u5230\u573A\u666F\u4E2D\uFF0C\u901A\u8FC7\u57FA\u7C7BObject3D\u7684add\u65B9\u6CD5\u6765\u6DFB\u52A0\u3002</p></blockquote><h4 id="\u6A21\u578B\u5BF9\u8C61\u7684\u5220\u9664\u4E0E\u6DFB\u52A0\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u6A21\u578B\u5BF9\u8C61\u7684\u5220\u9664\u4E0E\u6DFB\u52A0\u65B9\u6CD5" aria-hidden="true">#</a> \u6A21\u578B\u5BF9\u8C61\u7684\u5220\u9664\u4E0E\u6DFB\u52A0\u65B9\u6CD5</h4><ul><li>add</li><li>remove</li></ul><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u79FB\u9664\u6DFB\u52A0\u5B50\u5BF9\u8C61\u7684\u672C\u8D28\u5C31\u662F\u64CD\u4F5C\u5B50\u5BF9\u8C61\u7684\u76F8\u5BF9\u7236\u5BF9\u8C61\u7684children\u6570\u5217\u3002</p></div><h3 id="\u5C42\u7EA7\u6A21\u578B\u8282\u70B9\u7684\u904D\u5386-\u67E5\u627E-\u547D\u540D" tabindex="-1"><a class="header-anchor" href="#\u5C42\u7EA7\u6A21\u578B\u8282\u70B9\u7684\u904D\u5386-\u67E5\u627E-\u547D\u540D" aria-hidden="true">#</a> \u5C42\u7EA7\u6A21\u578B\u8282\u70B9\u7684\u904D\u5386\uFF0C\u67E5\u627E\uFF0C\u547D\u540D</h3><h4 id="\u901A\u8FC7name\u5C5E\u6027\u4E3A\u6A21\u578B\u5BF9\u8C61\u6DFB\u52A0\u6807\u8BB0-\u7528\u6765\u8868\u793A\u5B50\u6A21\u578B\u5BF9\u8C61\u5728\u6574\u4F53\u6A21\u578B\u4E2D-\u6240\u5360\u636E\u7684\u4F4D\u7F6E\u3002" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7name\u5C5E\u6027\u4E3A\u6A21\u578B\u5BF9\u8C61\u6DFB\u52A0\u6807\u8BB0-\u7528\u6765\u8868\u793A\u5B50\u6A21\u578B\u5BF9\u8C61\u5728\u6574\u4F53\u6A21\u578B\u4E2D-\u6240\u5360\u636E\u7684\u4F4D\u7F6E\u3002" aria-hidden="true">#</a> \u901A\u8FC7name\u5C5E\u6027\u4E3A\u6A21\u578B\u5BF9\u8C61\u6DFB\u52A0\u6807\u8BB0\uFF0C\u7528\u6765\u8868\u793A\u5B50\u6A21\u578B\u5BF9\u8C61\u5728\u6574\u4F53\u6A21\u578B\u4E2D\uFF0C\u6240\u5360\u636E\u7684\u4F4D\u7F6E\u3002</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F2A\u4EE3\u7801</span>
group<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;\u5934&#39;</span>

<span class="token comment">// \u7F51\u683C\u6A21\u578B</span>
mesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;\u773C\u775B&#39;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="\u6811\u7ED3\u6784\u5C42\u7EA7\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u6811\u7ED3\u6784\u5C42\u7EA7\u6A21\u578B" aria-hidden="true">#</a> \u6811\u7ED3\u6784\u5C42\u7EA7\u6A21\u578B</h4><blockquote><p>\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u4F1A\u52A0\u8F7D\u5916\u90E8\u6A21\u578B\uFF0C\u7136\u540E\u901A\u8FC7\u6811\u7ED3\u6784\u4E2D\u7684\u8282\u70B9\u7684name\u5C5E\u6027\u53BB\u83B7\u53D6\u5B50\u6A21\u578B\u5BF9\u8C61.</p></blockquote><p><strong>\u52A0\u8F7D\u673A\u5668\u4EBA\u6A21\u578B</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
<span class="token comment">// \u7403\u4F53\u7F51\u683C\u6A21\u578B\u51FD\u6570</span>
      <span class="token keyword">function</span> <span class="token function">sphereMesh</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">R</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span><span class="token constant">R</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> metarial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x0000ff</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> metarial<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> mesh<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// \u5706\u67F1\u4F53\u7F51\u683C\u6A21\u578B\u6784\u5EFA\u51FD\u6570</span>
      <span class="token keyword">function</span> <span class="token function">cylinderMesh</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">R</span><span class="token punctuation">,</span> h<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CylinderGeometry</span><span class="token punctuation">(</span><span class="token constant">R</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">,</span> h<span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7403\u4F53\u51E0\u4F55\u4F53</span>
        <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x0000ff</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6750\u8D28\u5BF9\u8C61Material</span>

        <span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u521B\u5EFA\u7F51\u683C\u6A21\u578B\u5BF9\u8C61</span>

        mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> mesh<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">let</span> panel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;panel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">canvas</span><span class="token operator">:</span> panel<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      renderer<span class="token punctuation">.</span><span class="token function">setClearColor</span><span class="token punctuation">(</span><span class="token number">0x888888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span>
        <span class="token number">100</span><span class="token punctuation">,</span>
        window<span class="token punctuation">.</span>innerWidth <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">1000</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8BBE\u7F6E\u76F8\u673A\u6240\u5728\u4F4D\u7F6E</span>
      camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8BBE\u7F6E\u76F8\u673A\u89C2\u5BDF\u65B9\u5411</span>

      scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">//  \u521B\u5EFA\u6A21\u578B</span>
      <span class="token comment">// \u5934\u90E8\u5B50\u6A21\u578B</span>
      <span class="token keyword">let</span> headMesh <span class="token operator">=</span> <span class="token function">sphereMesh</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      headMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u8111\u58F3&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> leftEyeMesh <span class="token operator">=</span> <span class="token function">sphereMesh</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      leftEyeMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u5DE6\u773C&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> rightEyeMesh <span class="token operator">=</span> <span class="token function">sphereMesh</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      rightEyeMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u53F3\u773C&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// \u5934\u90E8\u7EC4</span>
      <span class="token keyword">let</span> headGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      headGroup<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u5934\u90E8&quot;</span><span class="token punctuation">;</span>
      headGroup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>headMesh<span class="token punctuation">,</span> leftEyeMesh<span class="token punctuation">,</span> rightEyeMesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u8EAB\u4F53\u7F51\u683C\u6A21\u578B\u548C\u7EC4</span>
      <span class="token keyword">let</span> neckMesh <span class="token operator">=</span> <span class="token function">cylinderMesh</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      neckMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u8116\u5B50&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> bodyMesh <span class="token operator">=</span> <span class="token function">cylinderMesh</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      bodyMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u8179\u90E8&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> leftLegMesh <span class="token operator">=</span> <span class="token function">cylinderMesh</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      leftLegMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u5DE6\u817F&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> rightLegMesh <span class="token operator">=</span> <span class="token function">cylinderMesh</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      rightLegMesh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u53F3\u817F&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> legGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      legGroup<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u817F&quot;</span><span class="token punctuation">;</span>
      legGroup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>leftLegMesh<span class="token punctuation">,</span> rightLegMesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> bodyGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      bodyGroup<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u8EAB\u4F53&quot;</span><span class="token punctuation">;</span>
      bodyGroup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>neckMesh<span class="token punctuation">,</span> bodyMesh<span class="token punctuation">,</span> legGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u4EBAGroup</span>
      <span class="token keyword">let</span> personGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      personGroup<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;\u4EBA&quot;</span><span class="token punctuation">;</span>
      personGroup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>headGroup<span class="token punctuation">,</span> bodyGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>
      personGroup<span class="token punctuation">.</span><span class="token function">translateY</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>personGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> ambientLight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ambientLight<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> axesHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AxesHelper</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>axesHelper<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> controls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>OrbitControls</span><span class="token punctuation">(</span>camera<span class="token punctuation">,</span> renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
      controls<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> render<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u901A\u8FC7\u7EC4\u5BF9\u8C61\uFF0C\u7EC4\u7EC7\u6A21\u578B\u5BF9\u8C61\u81EA\u5DF1\u5C31\u53EF\u4EE5\u6784\u5EFA\u4E0A\u9762\u7684\u673A\u5668\u4EBA\u6A21\u578B</p></div><h4 id="\u9012\u5F52\u904D\u5386\u7B97\u6CD5traverse" tabindex="-1"><a class="header-anchor" href="#\u9012\u5F52\u904D\u5386\u7B97\u6CD5traverse" aria-hidden="true">#</a> \u9012\u5F52\u904D\u5386\u7B97\u6CD5traverse</h4><blockquote><p>\u901A\u8FC7\u6B64\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u7F16\u8BD1\u521B\u5EFA\u7684\u6A21\u578B\u5BF9\u8C61</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4E0A\u9762\u7684\u673A\u5668\u4EBA\u6A21\u578B</span>
scene<span class="token punctuation">.</span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;Group&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;Mesh&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span> <span class="token operator">+</span> obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span>material<span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0xffff00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#39;\u5DE6\u773C&#39;</span> <span class="token operator">||</span> obj<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#39;\u53F3\u773C&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>material<span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0x000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>parent<span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="\u6A21\u578B\u6811\u8282\u70B9\u67E5\u627E" tabindex="-1"><a class="header-anchor" href="#\u6A21\u578B\u6811\u8282\u70B9\u67E5\u627E" aria-hidden="true">#</a> \u6A21\u578B\u6811\u8282\u70B9\u67E5\u627E</h4><blockquote><p>\u901A\u8FC7Object3D\u57FA\u7C7B\u4E0A\u7684\u67E5\u8BE2\u65B9\u6CD5\uFF0C\u7528\u6765\u67E5\u627E\u7279\u5B9A\u7684\u8282\u70B9. \u6BD4\u5982\uFF0C getObjectById, getObjectByName</p></blockquote><h3 id="\u4E16\u754C\u77E9\u9635" tabindex="-1"><a class="header-anchor" href="#\u4E16\u754C\u77E9\u9635" aria-hidden="true">#</a> \u4E16\u754C\u77E9\u9635</h3><blockquote><p>\u672C\u8282\u4ECB\u7ECD\u672C\u5730\u5750\u6807\u548C\u4E16\u754C\u5750\u6807</p></blockquote><h4 id="\u5EFA\u7ACB\u4E16\u754C\u5750\u6807\u7CFB\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u5EFA\u7ACB\u4E16\u754C\u5750\u6807\u7CFB\u6982\u5FF5" aria-hidden="true">#</a> \u5EFA\u7ACB\u4E16\u754C\u5750\u6807\u7CFB\u6982\u5FF5</h4><blockquote><p>\u6240\u8C13\u672C\u5730\u5750\u6807\u7CFB\u6216\u8005\u8BF4\u6A21\u578B\u5750\u6807\u7CFB\uFF0C\u5C31\u662F\u6A21\u578B\u5BF9\u8C61\u76F8\u5BF9\u6A21\u578B\u7684\u7236\u5BF9\u8C61\u800C\u8A00\uFF0C\u6A21\u578B\u4F4D\u7F6E\u5C5E\u6027.position\u8868\u793A\u7684\u5750\u6807\u503C\u5C31\u662F\u4EE5\u672C\u5730\u5750\u6807\u7CFB\u4E3A\u53C2\u8003\uFF0C\u8868\u793A\u5B50\u5BF9\u8C61\u76F8\u5BF9\u672C\u5730\u5750\u6807\u7CFB\u539F\u70B9(0,0,0)\u7684\u504F\u79FB\u91CF\u3002 \u524D\u9762\u4E24\u8282\u8BFE\u8BF4\u8FC7Threejs\u573A\u666FScene\u662F\u4E00\u4E2A\u6811\u7ED3\u6784\uFF0C\u4E00\u4E2A\u6A21\u578B\u5BF9\u8C61\u53EF\u80FD\u6709\u591A\u4E2A\u7236\u5BF9\u8C61\u8282\u70B9\u3002\u4E16\u754C\u5750\u6807\u7CFB\u9ED8\u8BA4\u5C31\u662F\u5BF9Threejs\u6574\u4E2A\u573A\u666FScene\u5EFA\u7ACB\u4E00\u4E2A\u5750\u6807\u7CFB\uFF0C\u4E00\u4E2A\u6A21\u578B\u76F8\u5BF9\u4E16\u754C\u5750\u6807\u7CFB\u7684\u5750\u6807\u503C\u5C31\u662F\u8BE5\u6A21\u578B\u5BF9\u8C61\u6240\u6709\u7236\u5BF9\u8C61\u4EE5\u53CA\u6A21\u578B\u672C\u8EAB\u4F4D\u7F6E\u5C5E\u6027.position\u7684\u53E0\u52A0\u3002</p></blockquote><h4 id="\u672C\u5730\u7F29\u653E\u7CFB\u6570" tabindex="-1"><a class="header-anchor" href="#\u672C\u5730\u7F29\u653E\u7CFB\u6570" aria-hidden="true">#</a> \u672C\u5730\u7F29\u653E\u7CFB\u6570</h4><blockquote><p>\u901A\u8FC7\u524D\u9762\u7684\u8BBA\u8FF0\uFF0C\u6A21\u578B\u7684\u4F4D\u7F6E\u5C5E\u6027.position\u53EF\u4EE5\u79F0\u4E3A\u672C\u5730\u5750\u6807\u6216\u8005\u8BF4\u5C40\u90E8\u5750\u6807\uFF0C\u5BF9\u4E8E\u5C5E\u6027.scale\u4E00\u6837\uFF0C\u53EF\u4EE5\u79F0\u4E3A\u6A21\u578B\u7684\u672C\u5730\u7F29\u653E\u7CFB\u6570\u6216\u8005\u5C40\u90E8\u7684\u7F29\u653E\u7CFB\u6570\uFF0C\u901A\u8FC7.getWorldScale()\u65B9\u6CD5\u53EF\u4EE5\u83B7\u5F97\u4E00\u4E2A\u6A21\u578B\u7684\u4E16\u754C\u7F29\u653E\u7CFB\u6570\uFF0C\u5C31\u50CF\u6267\u884C.getWorldPosition()\u65B9\u6CD5\u4E00\u6837\u83B7\u5F97\u4E16\u754C\u5750\u6807\uFF0C\u5173\u4E8E.getWorldScale()\u65B9\u6CD5\u53EF\u4EE5\u67E5\u770B\u57FA\u7C7BObject3D\u3002</p></blockquote><h4 id="\u672C\u5730\u77E9\u9635\u548C\u4E16\u754C\u77E9\u9635" tabindex="-1"><a class="header-anchor" href="#\u672C\u5730\u77E9\u9635\u548C\u4E16\u754C\u77E9\u9635" aria-hidden="true">#</a> \u672C\u5730\u77E9\u9635\u548C\u4E16\u754C\u77E9\u9635</h4><blockquote><p>\u672C\u5730\u77E9\u9635.materix\u662F\u4EE5\u672C\u5730\u5750\u6807\u7CFB\u4E3A\u53C2\u8003\u7684\u6A21\u578B\u77E9\u9635\uFF0C\u4E16\u754C\u77E9\u9635.matrixWorld\u81EA\u7136\u5C31\u662F\u4EE5\u662F\u4E16\u754C\u5750\u6807\u7CFB\u4E3A\u53C2\u7167\u7684\u6A21\u578B\u77E9\u9635\u3002Three.js\u672C\u5730\u77E9\u9635\u662F Three.js\u6A21\u578B\u7684\u4F4D\u7F6E\u5C5E\u6027.position\u3001\u7F29\u653E\u7CFB\u6570\u5C5E\u6027.scale\u548C\u89D2\u5EA6\u5C5E\u6027.rotation\u8BB0\u5F55\u4E86\u6A21\u578B\u7684\u6240\u6709\u5E73\u79FB\u3001\u7F29\u653E\u548C\u65CB\u8F6C\u53D8\u6362\uFF0C\u672C\u5730\u77E9\u9635.materix\u662F\u4EE5\u7EBF\u6027\u4EE3\u6570\u77E9\u9635\u7684\u5F62\u5F0F\u8868\u793A.position\u3001.scale\u548C.rotation\u3002\u4E16\u754C\u77E9\u9635.matrixWorld\u81EA\u7136\u662F\u7528\u77E9\u9635\u7684\u5F62\u5F0F\u8868\u793A\u6A21\u578B\u4EE5\u53CA\u6A21\u578B\u7236\u5BF9\u8C61\u7684\u6240\u6709\u65CB\u8F6C\u7F29\u653E\u5E73\u79FB\u53D8\u6362\u3002\u66F4\u591A\u5185\u5BB9\u53EF\u4EE5\u53C2\u8003\u6587\u7AE0\u300A\u672C\u5730\u77E9\u9635\u548C\u4E16\u754C\u77E9\u9635\u300B</p></blockquote><h2 id="\u51E0\u4F55\u4F53\u9876\u70B9\u7EB9\u7406\u5750\u6807\u6570\u636E-\u7EED" tabindex="-1"><a class="header-anchor" href="#\u51E0\u4F55\u4F53\u9876\u70B9\u7EB9\u7406\u5750\u6807\u6570\u636E-\u7EED" aria-hidden="true">#</a> \u51E0\u4F55\u4F53\u9876\u70B9\u7EB9\u7406\u5750\u6807\u6570\u636E(\u7EED)</h2><blockquote><p>\u51E0\u4F55\u4F53\u9876\u70B9\u7EB9\u7406\u5750\u6807\u6570\u636E\u548C\u7EB9\u7406\u8D34\u56FE\u5173\u7CFB\u3002\u9876\u70B9\u7EB9\u7406\u5750\u6807\u7531\u51E0\u4F55\u4F53\u4EA7\u751F\uFF0C\u7EB9\u7406\u8D34\u56FE\u4F7F\u7528uv\u5750\u6807\u5EFA\u7ACB\u5BF9\u5E94\u5173\u7CFB. \u7EB9\u7406\u56FE\u50CF\u5C31\u662F\u52A0\u8F7D\u7EB9\u7406\u65F6\uFF0C\u6240\u4F7F\u7528\u7684\u56FE\u7247\u8D44\u6E90\uFF0C\u8FD8\u53EF\u4EE5\u662F\u5176\u4ED6\u6587\u4EF6\u7C7B\u578B\uFF0C\u6BD4\u5982\u89C6\u9891\u3002\u7EB9\u7406\u5750\u6807\uFF0C\u5C31\u662F\u7EB9\u7406\u56FE\u50CF\u4E0A\u7684\u5355\u4F4D\u50CF\u7D20\u70B9\u3002</p></blockquote><p><strong>\u8111\u56FE:</strong></p><img src="`+T+`"><p>\u4EFB\u52A1\u70B9\uFF1ABufferGemotry\u83B7\u53D6\u9762\u7684uv\u6620\u5C04\u4E0E\u66F4\u65B0</p><h2 id="\u6570\u7EC4\u6750\u8D28\u548C\u6750\u8D28\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u6750\u8D28\u548C\u6750\u8D28\u7D22\u5F15" aria-hidden="true">#</a> \u6570\u7EC4\u6750\u8D28\u548C\u6750\u8D28\u7D22\u5F15</h2><blockquote><p>\u4E09\u89D2\u9762\u6750\u8D28\u548C\u6570\u7EC4\u6750\u8D28\u5C5E\u6027materialIndex</p></blockquote><h4 id="\u6570\u7EC4\u6750\u8D28" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u6750\u8D28" aria-hidden="true">#</a> \u6570\u7EC4\u6750\u8D28</h4><blockquote><p>\u6570\u7EC4\u6750\u8D28\u4F5C\u4E3A\u51E0\u4F55\u4F53\u7EB9\u7406\u8D34\u56FE, \u6240\u8C13\u6570\u7EC4\u6750\u8D28\u5C31\u662F\u591A\u4E2A\u6750\u8D28\u5BF9\u8C61\u6784\u6210\u4E00\u4E2A\u6570\u7EC4\u4F5C\u4E3A\u6A21\u578B\u5BF9\u8C61\u7684\u6750\u8D28\u3002</p></blockquote><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u6570\u7EC4\u6750\u8D28\u7EC4\u5408\u591A\u4E2A\u6750\u8D28\u5BF9\u8C61\uFF0C\u6765\u5B9E\u73B0\u5BF9\u6A21\u578B\u8FDB\u884C\u8D34\u56FE</p></div><h4 id="\u6750\u8D28\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u6750\u8D28\u7D22\u5F15" aria-hidden="true">#</a> \u6750\u8D28\u7D22\u5F15</h4><blockquote><p>\u6750\u8D28\u5BF9\u8C61\u6570\u7EC4\u6709\u4E13\u95E8\u7684\u7D22\u5F15<code>materialIndex</code>\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u6B64\u503C\u6765\u6539\u53D8\u6BCF\u4E00\u4E2A\u9762\u7684\u6750\u8D28\u5BF9\u8C61.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u65B0\u7248\u672Cthreejs\uFF0C\u53EF\u4EE5\u518Dgroups\u4E2D\u8BBF\u95EE\u6570\u7EC4\u6750\u8D28\u5BF9\u8C61</span>
 boxgeometry<span class="token punctuation">.</span>groups<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>materialIndex <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u8111\u56FE:</strong><img src="`+q+`"></p><h2 id="\u6750\u8D28\u5BF9\u8C61texture-\u7684\u9635\u5217-\u504F\u79FB-\u9009\u88C5" tabindex="-1"><a class="header-anchor" href="#\u6750\u8D28\u5BF9\u8C61texture-\u7684\u9635\u5217-\u504F\u79FB-\u9009\u88C5" aria-hidden="true">#</a> \u6750\u8D28\u5BF9\u8C61Texture \u7684\u9635\u5217\uFF0C\u504F\u79FB\uFF0C\u9009\u88C5</h2><blockquote><p>\u7EB9\u7406\u5BF9\u8C61\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u5305\u542B\u56FE\u7247\u7684\u5BF9\u8C61\uFF0C\u7EB9\u7406\u5BF9\u8C61\u6240\u5305\u542B\u7684\u56FE\u7247\u5C31\u662Fimage\u5C5E\u6027.</p></blockquote><h3 id="\u9635\u5217" tabindex="-1"><a class="header-anchor" href="#\u9635\u5217" aria-hidden="true">#</a> \u9635\u5217</h3><blockquote><p>\u7EB9\u7406\u8D34\u56FE\u9635\u5217\u6620\u5C04</p></blockquote><h4 id="\u8BBE\u7F6E\u7EB9\u7406\u7684\u5305\u88F9\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u7EB9\u7406\u7684\u5305\u88F9\u6A21\u5F0F" aria-hidden="true">#</a> \u8BBE\u7F6E\u7EB9\u7406\u7684\u5305\u88F9\u6A21\u5F0F</h4><blockquote><p>\u5982\u4E0B\u5E38\u91CF\u7528\u4E8E\u8BBE\u7F6E\u7EB9\u7406\u8D34\u56FE\u7684wrapS\u548CwrapT\u5C5E\u6027\uFF0C\u7528\u6765\u63A7\u5236\u7EB9\u7406\u8D34\u56FE\u5728\u6C34\u5E73\u548C\u5782\u76F4\u65B9\u5411\u7684\u6392\u5217\u65B9\u5F0F. \u5E38\u7528\u5E38\u91CF:</p></blockquote><ul><li>THREE.RepeatWrapping</li><li>THREE.ClampToEdgeWrapping</li><li>THREE.MirroredRepeatWrapping</li></ul><p>\u4F7F\u7528:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>texture<span class="token punctuation">.</span>wrapS <span class="token operator">=</span> <span class="token operator">...</span>
texture<span class="token punctuation">.</span>wrapT <span class="token operator">=</span> <span class="token operator">...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5B9E\u8DF5:</p><blockquote><p>\u8BBE\u7F6E\u7EB9\u7406\u7684\u6C34\u5E73\u5782\u76F4\u961F\u5217\u7684\u65E0\u7EBF\u5EF6\u4F38\uFF0CTHREE.RepeatWrapping. \u9700\u8981\u642D\u914D(texture.repeat.set(x, y)).\u6765\u8BBE\u7F6E\u7EB9\u7406\u6C34\u5E73\u548C\u5782\u76F4\u7684\u91CD\u590D\u7EB9\u7406\u6570\u91CF</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  texture<span class="token punctuation">.</span>wrapS <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping<span class="token punctuation">;</span>
  texture<span class="token punctuation">.</span>wrapT <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping<span class="token punctuation">;</span>
  <span class="token comment">// uv\u4E24\u4E2A\u65B9\u5411\u7EB9\u7406\u91CD\u590D\u6570\u91CF</span>
  texture<span class="token punctuation">.</span>repeat<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u9ED8\u8BA4\u51E0\u4F55\u4F53\u662F\u53D6THREE.clampToEdgeWrapping\uFF0C \u5373\u7EB9\u7406\u5C06\u5EF6\u4F38\u5230\u7F51\u683C\u8FB9\u7F18. MirroredRepeatWrapping \u7EB9\u7406\u5C06\u91CD\u590D\u5230\u65E0\u7A77\u5927\uFF0C\u5E76\u4E14\u6BCF\u6B21\u91CD\u590D\u65F6\u5C06\u8FDB\u884C\u955C\u50CF.</p></div><h3 id="\u504F\u79FB" tabindex="-1"><a class="header-anchor" href="#\u504F\u79FB" aria-hidden="true">#</a> \u504F\u79FB</h3><blockquote><p>\u4E0D\u8BBE\u7F6E\u9635\u5217\u7EB9\u7406\u8D34\u56FE\uFF0C\u8BBE\u7F6E\u504F\u79FB\u91CF</p></blockquote><p>\u4EE3\u7801:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>texture<span class="token punctuation">.</span>offset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>\u901A\u8FC7\u8BBE\u7F6E\u7EB9\u7406\u5BF9\u8C61\u7684offset\u5C5E\u6027\uFF0C\u6765\u63A7\u5236\u7EB9\u7406\u56FE\u50CF\u5728\u7F51\u683C\u4E0A\u7684\u6E32\u67D3\u4F4D\u7F6E\uFF0C\u4F53\u73B0\u5C31\u662F\u8D34\u56FE\u9762\u79EF.</p></blockquote><p>demo:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// texture.offset = new THREE.Vector2(x, y)</span>
texture<span class="token punctuation">.</span>offset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token comment">// \u7EB9\u7406\u8D34\u56FE\u9762\u79EF\u5360\u7F51\u683C\u9762\u4E00\u534A</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8BBE\u7F6E\u9635\u5217\uFF0C\u540C\u65F6\u8BBE\u7F6E\u504F\u79FB</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BBE\u7F6E\u7EB9\u7406\u9635\u5217, \u540C\u65F6\u8BBE\u7F6E\u504F\u79FB</span>
texture<span class="token punctuation">.</span>wrapS <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping<span class="token punctuation">;</span>
texture<span class="token punctuation">.</span>wrapT <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping<span class="token punctuation">;</span>
texture<span class="token punctuation">.</span>repeat<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u7EB9\u7406\u56FE\u50CF\u5C06\u6309\u7167\u5355\u4F4D\u7EB9\u7406\u5750\u6807(1, 1)\u8FDB\u884C\u504F\u79FB</span>
texture<span class="token punctuation">.</span>offset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6B64\u65F6\u56FE\u50CF\u5C06\u5728\u7F51\u683C\u4E0A\u8D34\u56FE\u4E00\u534A, \u5728\u7F51\u683C\u9762\u8FB9\u754C\u5904\u7684\u8D34\u56FE\u5C06\u504F\u79FB\u5230\u6574\u4E2A\u7EB9\u7406\u8D34\u56FE\u7684\u4E00\u534A</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="\u7EB9\u7406\u65CB\u8F6C" tabindex="-1"><a class="header-anchor" href="#\u7EB9\u7406\u65CB\u8F6C" aria-hidden="true">#</a> \u7EB9\u7406\u65CB\u8F6C</h3><blockquote><p>\u8BBE\u7F6E\u7EB9\u7406\u8D34\u56FE\u7684\u65CB\u8F6C\u89D2\u5EA6\uFF0C\u548C\u65CB\u8F6C\u4E2D\u5FC3</p></blockquote><p>\u63A7\u5236\u5C5E\u6027:</p><ol><li>rotation</li><li>center</li></ol><p>\u4EE3\u7801:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BBE\u7F6E\u65CB\u8F6C\u89D2\u5EA6</span>
texture<span class="token punctuation">.</span>rotation <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u65CB\u8F6C\u4E2D\u5FC3, \u9ED8\u8BA4(0, 0)</span>
texture<span class="token punctuation">.</span>center<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>matrix: \u7269\u4F53\u5C40\u90E8\u77E9\u9635\u53D8\u6362 matrixAutoUpdate: \u5F53\u8FD9\u4E2A\u5C5E\u6027\u8BBE\u7F6E\u4E86\u4E4B\u540E\uFF0C\u5B83\u5C06\u8BA1\u7B97\u6BCF\u4E00\u5E27\u7684\u4F4D\u79FB\u3001\u65CB\u8F6C\uFF08\u56DB\u5143\u53D8\u6362\uFF09\u548C\u7F29\u653E\u77E9\u9635\uFF0C\u5E76\u91CD\u65B0\u8BA1\u7B97matrixWorld\u5C5E\u6027\u3002\u9ED8\u8BA4\u503C\u662FObject3D.DefaultMatrixAutoUpdate (true)\u3002</p></div><p>\u5B9E\u8DF5: \u521B\u5EFA\u4E00\u4E2A\u8349\u576A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * \u521B\u5EFA\u4E00\u4E2A\u5730\u9762
 */</span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u77E9\u5F62\u5E73\u9762</span>
<span class="token comment">// \u52A0\u8F7D\u6811\u7EB9\u7406\u8D34\u56FE</span>
<span class="token keyword">var</span> texture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;grass.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u9635\u5217</span>
texture<span class="token punctuation">.</span>wrapS <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping<span class="token punctuation">;</span>
texture<span class="token punctuation">.</span>wrapT <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping<span class="token punctuation">;</span>
<span class="token comment">// uv\u4E24\u4E2A\u65B9\u5411\u7EB9\u7406\u91CD\u590D\u6570\u91CF</span>
texture<span class="token punctuation">.</span>repeat<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u5BF9\u8C61Mesh</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u6DFB\u52A0\u5230\u573A\u666F\u4E2D</span>
mesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="\u7EB9\u7406\u52A8\u753B" tabindex="-1"><a class="header-anchor" href="#\u7EB9\u7406\u52A8\u753B" aria-hidden="true">#</a> \u7EB9\u7406\u52A8\u753B</h3><blockquote><p>\u7EB9\u7406\u52A8\u753B\u6BD4\u8F83\u7B80\u5355\uFF0C\u5FC5\u987B\u8981\u5728\u6E32\u67D3\u51FD\u6570\u4E2Drender()\u4E00\u76F4\u6267\u884Ctexture.offset.x -= 0.06\u52A8\u6001\u6539\u53D8\u7EB9\u7406\u5BF9\u8C61Texture\u7684\u504F\u79FB\u5C5E\u6027.offset\u5C31\u53EF\u4EE5\u3002\u63A7\u5236\u7EB9\u7406\u504F\u79FB</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6E32\u67D3\u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6267\u884C\u6E32\u67D3\u64CD\u4F5C</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u4F7F\u7528\u52A0\u51CF\u6CD5\u53EF\u4EE5\u8BBE\u7F6E\u4E0D\u540C\u7684\u8FD0\u52A8\u65B9\u5411</span>
  <span class="token comment">// \u8BBE\u7F6E\u7EB9\u7406\u504F\u79FB</span>
  texture<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">0.06</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="\u521B\u5EFA\u8BBE\u7F6E\u91CD\u590D\u7EB9\u7406\u7684\u7BA1\u9053" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u8BBE\u7F6E\u91CD\u590D\u7EB9\u7406\u7684\u7BA1\u9053" aria-hidden="true">#</a> \u521B\u5EFA\u8BBE\u7F6E\u91CD\u590D\u7EB9\u7406\u7684\u7BA1\u9053</h3><blockquote><p>\u4E3B\u8981\u4F7F\u7528 CatmullRomCurve3\u6784\u9020\u4ECE\u4E00\u7CFB\u5217\u70B9\u521B\u5EFA\u4E00\u6761\u5E73\u6ED1\u7684\u4E09\u7EF4\u6837\u6761\u66F2\u7EBF</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> curve <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CatmullRomCurve3</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tubeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TubeGeometry</span><span class="token punctuation">(</span>curve<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> texture <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;run.jpg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8BBE\u7F6E\u9635\u5217\u6A21\u5F0F\u4E3A RepeatWrapping</span>
texture<span class="token punctuation">.</span>wrapS <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping
texture<span class="token punctuation">.</span>wrapT<span class="token operator">=</span><span class="token constant">THREE</span><span class="token punctuation">.</span>RepeatWrapping
<span class="token comment">// \u8BBE\u7F6Ex\u65B9\u5411\u7684\u504F\u79FB(\u6CBF\u7740\u7BA1\u9053\u8DEF\u5F84\u65B9\u5411)\uFF0Cy\u65B9\u5411\u9ED8\u8BA41</span>
<span class="token comment">//\u7B49\u4EF7texture.repeat= new THREE.Vector2(20,1)</span>
texture<span class="token punctuation">.</span>repeat<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tubeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
  <span class="token literal-property property">transparent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="\u753B\u5E03\u89C6\u9891\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u753B\u5E03\u89C6\u9891\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE" aria-hidden="true">#</a> \u753B\u5E03\u89C6\u9891\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE</h2><blockquote><p>CanvasTexture\u548CVideoTexture\u53EF\u4EE5\u5206\u522B\u5B9E\u73B0\u628ACanvas\u753B\u5E03\u3001\u89C6\u9891\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE\u4F7F\u7528\u3002</p></blockquote><h3 id="canvas\u753B\u5E03\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE-\u5B9E\u8D28\u662F\u5229\u75282d-api\u7ED8\u5236\u5404\u79CD\u5F62\u72B6\u7136\u540E\u5E94\u7528\u52303d\u7F51\u683C\u6A21\u578B\u3002" tabindex="-1"><a class="header-anchor" href="#canvas\u753B\u5E03\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE-\u5B9E\u8D28\u662F\u5229\u75282d-api\u7ED8\u5236\u5404\u79CD\u5F62\u72B6\u7136\u540E\u5E94\u7528\u52303d\u7F51\u683C\u6A21\u578B\u3002" aria-hidden="true">#</a> canvas\u753B\u5E03\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE, \u5B9E\u8D28\u662F\u5229\u75282D api\u7ED8\u5236\u5404\u79CD\u5F62\u72B6\u7136\u540E\u5E94\u7528\u52303D\u7F51\u683C\u6A21\u578B\u3002</h3><ul><li>\u4F7F\u7528canvas api\u7ED8\u52362d\u56FE\u5F62\uFF0C\u4F5C\u4E3A\u6784\u5EFA\u7EB9\u7406\u5BF9\u8C61</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA\u5E73\u9762\uFF0C\u52A0\u5165canvas\u5BF9\u8C61\uFF0C\u4F7F\u7528CanvasTexture\u4F5C\u4E3A\u521B\u5EFA\u7EB9\u7406\u5BF9\u8C61\u7684\u6784\u9020</span>
      <span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> texture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CanvasTexture</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>house<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> metarial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
        <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> metarial<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>canvas\u52A0\u8F7D\u56FE\u5F62\u4F5C\u4E3A\u7EB9\u7406\u5BF9\u8C61</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// imgPatter \u4E8B\u5148\u52A0\u8F7D\u4E86\u56FE\u7247</span>
<span class="token function">imgPatter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">canvas</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> texture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CanvasTexture</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u9ED8\u8BA4\u5F00\u542FneedsUpdate</span>
        <span class="token comment">// texture.needsUpdate = true;</span>
        <span class="token keyword">let</span> metarial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span>
          <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> metarial<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mesh<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>
        editor<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u52A0\u8F7D\u89C6\u9891\u4F5C\u4E3A\u7EB9\u7406\u8D34\u56FE</li></ul><blockquote><p>\u89C6\u9891\u672C\u8D28\u4E0A\u5C31\u662F\u4E00\u5E27\u5E27\u56FE\u7247\u6D41\u6784\u6210\uFF0C\u628A\u89C6\u9891\u4F5C\u4E3AThreejs\u6A21\u578B\u7684\u7EB9\u7406\u8D34\u56FE\u4F7F\u7528\uFF0C\u5C31\u662F\u4ECE\u89C6\u9891\u4E2D\u63D0\u53D6\u4E00\u5E27\u4E00\u5E27\u7684\u56FE\u7247\u4F5C\u4E3A\u6A21\u578B\u7684\u7EB9\u7406\u8D34\u56FE\uFF0C\u7136\u540E\u4E0D\u505C\u7684\u66F4\u65B0\u7684\u7EB9\u7406\u8D34\u56FE\u5C31\u53EF\u4EE5\u4EA7\u751F\u89C6\u9891\u64AD\u653E\u7684\u6548\u679C\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> vtexture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>VideoTexture</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>
      vtexture<span class="token punctuation">.</span>needsUpdate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> vtexture<span class="token punctuation">,</span>
        <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
      mesh<span class="token punctuation">.</span><span class="token function">translateY</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5B98\u65B9\u7684\u5185\u7F6E\u6784\u9020 VideoTexture\u7528\u6765\u52A0\u8F7D\u89C6\u9891\u521B\u5EFA\u7EB9\u7406.VideoTexture.js\u5C01\u88C5\u4E86\u4E00\u4E2Aupdate\u51FD\u6570\uFF0CThreejs\u6BCF\u6B21\u6267\u884C\u6E32\u67D3\u65B9\u6CD5\u8FDB\u884C\u6E32\u67D3\u573A\u666F\u4E2D\u7684\u65F6\u5019\uFF0C\u90FD\u4F1A\u6267\u884CVideoTexture\u5C01\u88C5\u7684update\u51FD\u6570\uFF0C\u6267\u884Cupdate\u51FD\u6570\u4E2D\u4EE3\u7801this.needsUpdate = true;\u8BFB\u53D6\u89C6\u9891\u6D41\u6700\u65B0\u4E00\u5E27\u56FE\u7247\u6765\u66F4\u65B0Threejs\u6A21\u578B\u7EB9\u7406\u8D34\u56FE\u3002</p></div><h3 id="\u51F9\u51F8-\u6CD5\u7EBF\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u51F9\u51F8-\u6CD5\u7EBF\u8D34\u56FE" aria-hidden="true">#</a> \u51F9\u51F8\uFF0C\u6CD5\u7EBF\u8D34\u56FE</h3><blockquote><p>\u51F9\u51F8\u8D34\u56FE\uFF08bumpMap\uFF09\u548C\u6CD5\u7EBF\u8D34\u56FE(normalMap). \u5BF9\u4E8E\u590D\u6742\u7684\u66F2\u9762\u6A21\u578B\uFF0C\u6A21\u578B\u5305\u542B\u7684\u9876\u70B9\u6570\u636E\u6BD4\u8F83\u591A\u3002\u6A21\u578B\u6587\u4EF6\u4F53\u79EF\u4E5F\u6BD4\u8F83\u5927\u3002\u8FD9\u79CD\u573A\u666F\u4E0B\u4F7F\u7528normalMap\u8D34\u56FE\u7B97\u6CD5\uFF0C\u5C31\u80FD\u591F\u6709\u6548\u538B\u7F29\u6A21\u578B\u5927\u5C0F\u3002\u4E09\u7EF4\u6A21\u578B\u76843d\u7F8E\u672F\u8BBE\u8BA1\uFF0C\u53EF\u4EE5\u901A\u8FC7\u51CF\u9762\u64CD\u4F5C\u5C06\u7CBE\u6A21\u7B80\u5316\u4E3A\u7B80\u6A21\uFF0C\u5F00\u53D1\u5C31\u53EF\u4EE5\u5C06\u7F8E\u672F\u5BFC\u51FA\u7684\u590D\u6742\u96C6\u5408\u4FE1\u606F\u7EB9\u7406\u6620\u5C04\u5230normalMap\u4E0A\u3002</p></blockquote><p>\u8111\u56FE\uFF1A</p><img src="`+R+`"><h4 id="\u6CD5\u7EBF\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u6CD5\u7EBF\u8D34\u56FE" aria-hidden="true">#</a> \u6CD5\u7EBF\u8D34\u56FE</h4><blockquote><p>\u6CD5\u7EBF\u8D34\u56FE\u5C31\u662F\u5C06\u7CBE\u6A21\u7684\u590D\u6742\u51E0\u4F55\u4FE1\u606F\u5355\u72EC\u4F5C\u4E3A\u56FE\u7247\u5BFC\u51FA\uFF0C\u7136\u540E\u5C06\u6B64\u8D34\u56FE\u7528\u4E8E\u4F4E\u6A21\u7684\u8D34\u56FE\uFF0C\u8FBE\u5230\u9AD8\u6A21\u7684\u903C\u771F\u6548\u679C\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">//   let geometry = new THREE.BoxGeometry(400, 400, 400);</span>

      <span class="token comment">// \u521B\u5EFA\u6CD5\u7EBF\u8D34\u56FE</span>
      <span class="token comment">//   let loader = new THREE.TextureLoader().load(</span>
      <span class="token comment">//     &quot;./static/normal2.jpeg&quot;,</span>
      <span class="token comment">//     (texture) =&gt; {</span>
      <span class="token comment">//       console.log(texture);</span>
      <span class="token comment">//       let material = new THREE.MeshPhongMaterial({</span>
      <span class="token comment">//         // map: texture,</span>
      <span class="token comment">//         color: 0xff0000,</span>
      <span class="token comment">//         normalMap: texture, // \u4F7F\u7528\u6CD5\u7EBF\u8D34\u56FE</span>
      <span class="token comment">//         normalScale: new THREE.Vector2(10, 10),</span>
      <span class="token comment">//       });</span>
      <span class="token comment">//       let mesh = new THREE.Mesh(geometry, material);</span>
      <span class="token comment">//       mesh.translateY(300);</span>
      <span class="token comment">//       editor.globals.scene.add(mesh);</span>
      <span class="token comment">//       editor.render();</span>
      <span class="token comment">//     },</span>
      <span class="token comment">//     undefined,</span>
      <span class="token comment">//     (e) =&gt; {}</span>
      <span class="token comment">//   );</span>
      <span class="token comment">//   var textureLoader = new THREE.TextureLoader();</span>
      <span class="token comment">//   // \u52A0\u8F7D\u6CD5\u7EBF\u8D34\u56FE</span>
      <span class="token comment">//   var textureNormal = textureLoader.load(&quot;./static/normal2.jpeg&quot;);</span>
      <span class="token comment">//   var material = new THREE.MeshPhongMaterial({</span>
      <span class="token comment">//     color: 0xff0000,</span>
      <span class="token comment">//     // map: textureNormal,</span>
      <span class="token comment">//     normalMap: textureNormal, //\u6CD5\u7EBF\u8D34\u56FE</span>
      <span class="token comment">//     //\u8BBE\u7F6E\u6DF1\u6D45\u7A0B\u5EA6\uFF0C\u9ED8\u8BA4\u503C(1,1)\u3002</span>
      <span class="token comment">//     normalScale: new THREE.Vector2(10, 10),</span>
      <span class="token comment">//   }); //\u6750\u8D28\u5BF9\u8C61Material</span>
      <span class="token comment">//   var mesh = new THREE.Mesh(geometry, material); //\u7F51\u683C\u6A21\u578B\u5BF9\u8C61Mesh</span>
      <span class="token comment">//   editor.globals.scene.add(mesh);</span>

      <span class="token keyword">var</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7403\u4F53</span>
      <span class="token comment">// TextureLoader\u521B\u5EFA\u4E00\u4E2A\u7EB9\u7406\u52A0\u8F7D\u5668\u5BF9\u8C61\uFF0C\u53EF\u4EE5\u52A0\u8F7D\u56FE\u7247\u4F5C\u4E3A\u51E0\u4F55\u4F53\u7EB9\u7406</span>
      <span class="token keyword">var</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//   // \u52A0\u8F7D\u7EB9\u7406\u8D34\u56FE</span>
      <span class="token comment">//   var texture = textureLoader.load(&quot;./static/earthnormal.png&quot;);</span>
      <span class="token comment">// \u52A0\u8F7D\u6CD5\u7EBF\u8D34\u56FE</span>
      <span class="token keyword">var</span> textureNormal <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;./static/earthnormal.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x0000ff</span><span class="token punctuation">,</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> textureNormal<span class="token punctuation">,</span> <span class="token comment">// \u666E\u901A\u989C\u8272\u7EB9\u7406\u8D34\u56FE</span>
        <span class="token literal-property property">normalMap</span><span class="token operator">:</span> textureNormal<span class="token punctuation">,</span> <span class="token comment">//\u6CD5\u7EBF\u8D34\u56FE</span>
        <span class="token comment">//\u8BBE\u7F6E\u6DF1\u6D45\u7A0B\u5EA6\uFF0C\u9ED8\u8BA4\u503C(1,1)\u3002</span>
        <span class="token literal-property property">normalScale</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6750\u8D28\u5BF9\u8C61Material</span>
      <span class="token keyword">var</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u5BF9\u8C61Mesh</span>
      editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h4 id="\u51F9\u51F8\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u51F9\u51F8\u8D34\u56FE" aria-hidden="true">#</a> \u51F9\u51F8\u8D34\u56FE</h4><blockquote><p>\u51F9\u51F8\u8D34\u56FE\u548C\u6CD5\u7EBF\u8D34\u56FE\u529F\u80FD\u76F8\u4F3C\uFF0C\u53EA\u662F\u6CA1\u6709\u6CD5\u7EBF\u8D34\u56FE\u8868\u8FBE\u7684\u51E0\u4F55\u4F53\u8868\u9762\u4FE1\u606F\u66F4\u4E30\u5BCC\u3002\u51F9\u51F8\u8D34\u56FE\u662F\u7528\u56FE\u7247\u50CF\u7D20\u7684\u7070\u5EA6\u503C\u8868\u793A\u51E0\u4F55\u8868\u9762\u7684\u9AD8\u4F4E\u6DF1\u5EA6\uFF0C\u5982\u679C\u6A21\u578B\u5B9A\u4E49\u4E86\u6CD5\u7EBF\u8D34\u56FE\uFF0C\u5C31\u6CA1\u6709\u5FC5\u8981\u5728\u4F7F\u7528\u51F9\u51F8\u8D34\u56FE\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token function">injectText</span><span class="token punctuation">(</span><span class="token string">&quot;\u7EA2\u8272\u4EE3\u8868 X \u8F74. \u7EFF\u8272\u4EE3\u8868 Y \u8F74. \u84DD\u8272\u4EE3\u8868 Z \u8F74.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Editor</span><span class="token punctuation">(</span><span class="token constant">THREE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> controls <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">bumpScale</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> gui <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">dat<span class="token punctuation">.</span>GUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gui<span class="token punctuation">.</span><span class="token function">addFolder</span><span class="token punctuation">(</span><span class="token string">&quot;\u6DFB\u52A0\u51F9\u51F8\u63A7\u5236\u5668&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">var</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7403\u4F53</span>
      <span class="token keyword">var</span> geometry2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7403\u4F53</span>
      <span class="token keyword">var</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u52A0\u8F7D\u989C\u8272\u7EB9\u7406\u8D34\u56FE</span>
      <span class="token keyword">var</span> texture <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;./static/diffuse.jpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u52A0\u8F7D\u51F9\u51F8\u8D34\u56FE</span>
      <span class="token keyword">var</span> textureBump <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;./static/bumpMap.jpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span> <span class="token comment">// \u666E\u901A\u7EB9\u7406\u8D34\u56FE</span>
        <span class="token literal-property property">bumpMap</span><span class="token operator">:</span> textureBump<span class="token punctuation">,</span> <span class="token comment">//\u51F9\u51F8\u8D34\u56FE</span>
        <span class="token literal-property property">bumpScale</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">//\u8BBE\u7F6E\u51F9\u51F8\u9AD8\u5EA6\uFF0C\u9ED8\u8BA4\u503C1\u3002</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6750\u8D28\u5BF9\u8C61Material</span>
      <span class="token keyword">var</span> material2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span> <span class="token comment">// \u666E\u901A\u7EB9\u7406\u8D34\u56FE</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6750\u8D28\u5BF9\u8C61Material</span>
      <span class="token keyword">var</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u5BF9\u8C61Mesh</span>
      <span class="token keyword">var</span> mesh2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry2<span class="token punctuation">,</span> material2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7F51\u683C\u6A21\u578B\u5BF9\u8C61Mesh</span>
      mesh<span class="token punctuation">.</span>material<span class="token punctuation">.</span>needsUpdate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      mesh<span class="token punctuation">.</span><span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">450</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>controls<span class="token punctuation">,</span> <span class="token string">&quot;bumpScale&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mesh<span class="token punctuation">.</span>material<span class="token punctuation">.</span>bumpScale <span class="token operator">=</span> e<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gui<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>
      editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh2<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u6DFB\u52A0\u5149\u6E90</span>
      <span class="token keyword">const</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span><span class="token number">0xcccccc</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// soft white light</span>
      editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>light<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u6DFB\u52A0\u8F85\u52A9\u5BF9\u8C61</span>
      <span class="token keyword">const</span> length <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> arrowHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      arrowHelper<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;arrowHelper&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> origin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> dirX <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> dirY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> dirZ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      arrowHelper<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>ArrowHelper</span><span class="token punctuation">(</span>dirX<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> length<span class="token punctuation">,</span> <span class="token number">0xff0000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      arrowHelper<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>ArrowHelper</span><span class="token punctuation">(</span>dirY<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> length<span class="token punctuation">,</span> <span class="token number">0x00ff00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      arrowHelper<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>ArrowHelper</span><span class="token punctuation">(</span>dirZ<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> length<span class="token punctuation">,</span> <span class="token number">0x0000ff</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      editor<span class="token punctuation">.</span><span class="token function">injectHelper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">girdhelper</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>GridHelper</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// axeshlper: new THREE.AxesHelper(1000),</span>
        arrowHelper<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>

        editor<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><h3 id="\u5149\u7167\u8D34\u56FE\u6DFB\u52A0\u9634\u5F71" tabindex="-1"><a class="header-anchor" href="#\u5149\u7167\u8D34\u56FE\u6DFB\u52A0\u9634\u5F71" aria-hidden="true">#</a> \u5149\u7167\u8D34\u56FE\u6DFB\u52A0\u9634\u5F71</h3><blockquote><p>\u4E09\u7EF4\u573A\u666F\u4E2D\uFF0C\u6709\u65F6\u9700\u8981\u8BBE\u7F6E\u6A21\u578B\u7684\u9634\u5F71\u3002\u6709\u4E24\u79CD\u65B9\u5F0F\u5B9E\u73B0\uFF0C\u5176\u4E00\u5C31\u662F\u901A\u8FC7\u8BA1\u7B97\u5149\u7EBF\u548C\u7269\u4F53\u4E4B\u95F4\u7684\u5149\u7EBF\u6295\u5C04\uFF0C\u6765\u5F62\u6210\u9634\u5F71\u3002\u4E0D\u8FC7\u8FD9\u79CD\u662F\u901A\u8FC7\u8BA1\u7B97\u5F97\u5230\uFF0C\u6BD4\u8F83\u6D88\u8017\u8D44\u6E90\uFF1B\u5176\u4E8C\u5C31\u662F\u75313d\u7F8E\u672F\u8BBE\u8BA1\u7684\u9634\u5F71\u8D34\u56FE\u3002\u76F4\u63A5\u5C31\u53EF\u4EE5\u4F5C\u4E3A\u7269\u4F53\u9634\u5F71\uFF0C\u4E0D\u9700\u8981\u989D\u5916\u8BA1\u7B97\u3002</p></blockquote><p><strong>\u5E9F\u5F03\u5C5E\u6027:</strong></p><blockquote><p>Geometry\u5C5E\u6027.faceVertexUvs \u4E00\u822C\u51E0\u4F55\u4F53\u6709\u4E24\u5957UV\u5750\u6807\uFF0C\u5BF9\u4E8EGeometry\u7C7B\u578B\u51E0\u4F55\u4F53\u800C\u8A00</p></blockquote><p>Geometry.faceVertexUvs[0]\u5305\u542B\u7684\u7EB9\u7406\u5750\u6807\u7528\u4E8E\u989C\u8272\u8D34\u56FEmap\u3001\u6CD5\u7EBF\u8D34\u56FEnormalMap\u7B49,Geometry.faceVertexUvs[1]\u5305\u542B\u7684\u7B2C\u4E8C\u5957\u7EB9\u7406\u8D34\u56FE\u7528\u4E8E\u5149\u7167\u9634\u5F71\u8D34\u56FE</p><p>\u4E00\u822C\u901A\u8FC7Threejs\u51E0\u4F55\u4F53API\u521B\u5EFA\u7684\u51E0\u4F55\u4F53\u9ED8\u8BA4\u53EA\u6709\u4E00\u7EC4\u7EB9\u7406\u5750\u6807Geometry.faceVertexUvs[0]\uFF0C\u6240\u4EE5\u4E3A\u4E86\u8BBE\u7F6E\u5149\u7167\u9634\u5F71\u8D34\u56FE\uFF0C\u9700\u8981\u7ED9\u53E6\u4E00\u7EC4\u7EB9\u7406\u5750\u6807\u8D4B\u503CGeometry.faceVertexUvs[1] = Geometry.faceVertexUvs[0];</p><p><strong>\u65B0\u7248\u672Cthreejs</strong></p><blockquote><p>\u4E00\u822C\u901A\u8FC7Threejs\u52A0\u8F7D\u5916\u90E8\u6A21\u578B\uFF0C\u89E3\u6790\u4E09\u7EF4\u6A21\u578B\u6570\u636E\u5F97\u5230\u7684\u51E0\u4F55\u4F53\u7C7B\u578B\u662F\u7F13\u51B2\u7C7B\u578B\u51E0\u4F55\u4F53BufferGeometry\uFF0C\u5BF9\u4E8EBufferGeometry\u800C\u8A00\u4E24\u5957\u7EB9\u7406\u5750\u6807\u5206\u522B\u901A\u8FC7.uv\u548C.uv2\u5C5E\u6027\u8868\u793A\u3002</p></blockquote><p>\u793A\u5217demo:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">let</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      geometry<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;uv2&quot;</span><span class="token punctuation">,</span> geometry<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;uv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8BBE\u7F6E\u7528\u4E8E\u5149\u7167\u9634\u5F71\u8D34\u56FE\u7528\u7684uv\u5750\u6807</span>

      <span class="token comment">// \u521B\u5EFA\u9634\u5F71\u8D34\u56FE</span>
      <span class="token keyword">var</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u52A0\u8F7D\u5149\u7167\u8D34\u56FE</span>
      <span class="token keyword">var</span> textureLight <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;./static/shadow3.jpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0x999999</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lightMap</span><span class="token operator">:</span> textureLight<span class="token punctuation">,</span> <span class="token comment">// \u8BBE\u7F6E\u5149\u7167\u8D34\u56FE</span>
        <span class="token literal-property property">lightMapIntensity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//\u70D8\u57F9\u5149\u7167\u7684\u5F3A\u5EA6. \u9ED8\u8BA4 1.</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">let</span> plane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
      plane<span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      editor<span class="token punctuation">.</span>globals<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>plane<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u8D34\u56FE\u4F7F\u7528\u7684\u7EB9\u7406\u5750\u6807\u7531\u4E24\u79CD\uFF0C\u4E00\u79CD\u662F\u51E0\u4F55\u4F53\u9762\u7528\u7684uv\u5750\u6807\uFF1B\u53E6\u4E00\u79CD\u662F\u9634\u5F71\u8D34\u56FE\u7528\u7684uv\u5750\u6807\u3002\u9ED8\u8BA4\u521B\u5EFA\u7684\u51E0\u4F55\u4F53\u53EA\u6709\u7B2C\u4E00\u4E2Auv\u5750\u6807\uFF0C\u5149\u7167uv\u5750\u6807\u9700\u8981\u989D\u5916\u8BBE\u7F6E\u3002<code>gemotry.setAttribute(&#39;uv2&#39;, gemotry.getAttribute(&#39;uv&#39;))</code></p></div><blockquote><p>\u4E24\u7EC4\u7EB9\u7406\u5750\u6807\u901A\u5E38\u8868\u793A\u4E3A<code>uv</code>,<code>uv2</code></p></blockquote><h3 id="\u9AD8\u5149\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u5149\u8D34\u56FE" aria-hidden="true">#</a> \u9AD8\u5149\u8D34\u56FE</h3><blockquote><p>\u9AD8\u5149\u7F51\u683C\u6750\u8D28MeshPhongMaterial\u5177\u6709\u9AD8\u5149\u5C5E\u6027.specular,\u5982\u679C\u4E00\u4E2A\u7F51\u683C\u6A21\u578BMesh\u90FD\u662F\u76F8\u540C\u7684\u6750\u8D28\u5E76\u4E14\u8868\u9762\u7C97\u7CD9\u5EA6\u76F8\u540C,\u6216\u8005\u8BF4\u7F51\u683C\u6A21\u578B\u5916\u8868\u9762\u6240\u6709\u4E0D\u540C\u533A\u57DF\u7684\u955C\u9762\u53CD\u5C04\u80FD\u529B\u76F8\u540C\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BBE\u7F6E\u6750\u8D28\u7684\u9AD8\u5149\u5C5E\u6027.specular\u3002\u5982\u679C\u4E00\u4E2A\u7F51\u683C\u6A21\u578B\u8868\u793A\u4E00\u4E2A\u4EBA\uFF0C\u90A3\u4E48\u4EBA\u7684\u4E0D\u540C\u90E8\u4F4D\u9AD8\u5149\u7A0B\u5EA6\u662F\u4E0D\u540C\u7684\uFF0C\u4E0D\u53EF\u80FD\u76F4\u63A5\u901A\u8FC7.specular\u5C5E\u6027\u6765\u63CF\u8FF0\uFF0C\u5728\u8FD9\u79CD\u60C5\u51B5\u901A\u8FC7\u9AD8\u5149\u8D34\u56FE.specularMap\u7684RGB\u503C\u6765\u63CF\u8FF0\u4E0D\u540C\u533A\u57DF\u955C\u9762\u53CD\u5C04\u7684\u80FD\u529B\uFF0C.specularMap\u548C\u989C\u8272\u8D34\u56FE.Map\u4E00\u6837\u548C\u901A\u8FC7UV\u5750\u6807\u6620\u5C04\u5230\u6A21\u578B\u8868\u9762\u3002\u9AD8\u5149\u8D34\u56FE.specularMap\u4E0D\u540C\u533A\u57DF\u50CF\u7D20\u503C\u4E0D\u540C\uFF0C\u8868\u793A\u7F51\u683C\u6A21\u578B\u4E0D\u540C\u533A\u57DF\u7684\u9AD8\u5149\u503C\u4E0D\u540C\u3002 \u9AD8\u5149\u8D34\u56FE\u5C5E\u6027.specularMap\u548C\u9AD8\u5149\u5C5E\u6027.specular\u662F\u5BF9\u5E94\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53EA\u6709\u9AD8\u5149\u7F51\u683C\u6750\u8D28\u5BF9\u8C61MeshPhongMaterial\u624D\u5177\u5907\u9AD8\u5149\u8D34\u56FE\u5C5E\u6027.specularMap\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u52A0\u8F7D\u7EB9\u7406\u8D34\u56FE</span>
<span class="token keyword">var</span> texture <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;earth_diffuse.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u52A0\u8F7D\u9AD8\u5149\u8D34\u56FE</span>
<span class="token keyword">var</span> textureSpecular <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;earth_specular.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshPhongMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// specular: 0xff0000,//\u9AD8\u5149\u90E8\u5206\u7684\u989C\u8272</span>
  <span class="token literal-property property">shininess</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span><span class="token comment">//\u9AD8\u5149\u90E8\u5206\u7684\u4EAE\u5EA6\uFF0C\u9ED8\u8BA430</span>
  <span class="token literal-property property">map</span><span class="token operator">:</span> texture<span class="token punctuation">,</span><span class="token comment">// \u666E\u901A\u7EB9\u7406\u8D34\u56FE</span>
  <span class="token literal-property property">specularMap</span><span class="token operator">:</span> textureSpecular<span class="token punctuation">,</span> <span class="token comment">//\u9AD8\u5149\u8D34\u56FE</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6750\u8D28\u5BF9\u8C61Material</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="\u73AF\u5883\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u73AF\u5883\u8D34\u56FE" aria-hidden="true">#</a> \u73AF\u5883\u8D34\u56FE</h3><blockquote><p>Three.js\u73AF\u5883\u8D34\u56FE.envMap\u5B57\u9762\u610F\u601D\u5C31\u662F\u4E09\u7EF4\u6A21\u578B\u5468\u8FB9\u73AF\u5883\uFF0C\u6BD4\u5982\u4F60\u6E32\u67D3\u4E00\u4E2A\u7ACB\u65B9\u4F53\uFF0C\u7ACB\u65B9\u4F53\u653E\u5728\u4E00\u4E2A\u5C4B\u5B50\u91CC\u9762\uFF0C\u5C4B\u5B50\u91CC\u9762\u7684\u5468\u8FB9\u73AF\u5883\u80AF\u5B9A\u5F71\u54CD\u7ACB\u65B9\u4F53\u7684\u6E32\u67D3\u6548\u679C\uFF0C\u76EE\u7684\u662F\u4E3A\u4E86\u6E32\u67D3\u8BE5\u7ACB\u65B9\u4F53\u800C\u4E0D\u662F\u7ACB\u65B9\u4F53\u5468\u56F4\u73AF\u5883\uFF0C\u4E3A\u4E86\u66F4\u65B9\u4FBF\u6240\u4EE5\u6CA1\u5FC5\u8981\u521B\u5EFA\u7ACB\u65B9\u4F53\u5468\u8FB9\u73AF\u5883\u6240\u6709\u7269\u4F53\u7684\u7F51\u683C\u6A21\u578B\uFF0C\u53EF\u4EE5\u901A\u8FC7\u56FE\u7247\u6765\u8868\u8FBE\u7ACB\u65B9\u4F53\u5468\u8FB9\u7684\u73AF\u5883\u3002 \u9AD8\u5149\u7F51\u683C\u6750\u8D28MeshPhongMaterial\u548C\u7269\u7406PBR\u6750\u8D28MeshStandardMaterial\u901A\u5E38\u4F1A\u4F7F\u7528\u73AF\u5883\u8D34\u56FE.envMap\u6765\u5B9E\u73B0\u66F4\u597D\u7684\u6E32\u67D3\u6548\u679C\u3002\u4E00\u4E2A\u6750\u8D28\u5BF9\u5E94\u7684\u662F\u666E\u901A\u6B21\u65F6\u4EE3\u6A21\u578B\uFF0C\u4E00\u4E2A\u6750\u8D28\u5BF9\u5E94\u7684\u662FPBR\u6A21\u578B\u3002</p></blockquote><ul><li>envMap</li><li>CubeTextureLoader</li><li></li></ul><h3 id="\u6570\u636E\u7EB9\u7406\u8D34\u56FE" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u7EB9\u7406\u8D34\u56FE" aria-hidden="true">#</a> \u6570\u636E\u7EB9\u7406\u8D34\u56FE</h3><blockquote><p>Three.js\u6570\u636E\u7EB9\u7406\u5BF9\u8C61DataTexture\u7B80\u5355\u5730\u8BF4\u5C31\u662F\u901A\u8FC7\u7A0B\u5E8F\u521B\u5EFA\u7EB9\u7406\u8D34\u56FE\u7684\u6BCF\u4E00\u4E2A\u50CF\u7D20\u503C\u3002</p></blockquote><ul><li>DataTexture</li></ul>`,184);function S(_,A){const a=p("ExternalLinkIcon");return t(),e(c,null,[M,n("p",null,[n("a",j,[L,o(a)])]),G],64)}var B=u(H,[["render",S]]);export{B as default};
